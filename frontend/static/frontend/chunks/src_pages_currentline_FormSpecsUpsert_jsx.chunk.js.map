{"version":3,"file":"chunks/src_pages_currentline_FormSpecsUpsert_jsx.chunk.js","mappings":"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","sources":["webpack://sgp/./src/pages/currentline/FormSpecsUpsert.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef, useMemo, useContext } from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport styled from 'styled-components';\r\nimport dayjs from 'dayjs';\r\nimport Joi from 'joi';\r\nimport { fetch, fetchPost, cancelToken } from \"utils/fetch\";\r\nimport { API_URL } from \"config\";\r\nimport { getSchema } from \"utils/schemaValidator\";\r\nimport { FormLayout, Field, FieldSet, FieldItem, AlertsContainer, Item, SelectField, CheckboxField, HorizontalRule, VerticalSpace, InputAddon, SelectDebounceField } from \"components/formLayout\";\r\nimport AlertMessages from \"components/alertMessages\";\r\nimport ResultMessage from 'components/resultMessage';\r\nimport Portal from \"components/portal\";\r\nimport Toolbar from \"components/toolbar\";\r\nimport { Input, Space, Form, Button, InputNumber, DatePicker, Select, Spin } from \"antd\";\r\nimport { DATE_FORMAT, DATETIME_FORMAT, ARTIGOS_SPECS } from 'config';\r\nconst artigoSpecsItems = ARTIGOS_SPECS.filter(v => !v?.disabled);\r\n\r\nconst schema = (keys, excludeKeys) => {\r\n    return getSchema({}, keys, excludeKeys).unknown(true);\r\n}\r\n\r\nconst setId = (id) => {\r\n    if (id) {\r\n        return { key: \"update\", values: { id } };\r\n    }\r\n    return { key: \"insert\", values: {} };\r\n}\r\n\r\nconst loadCustomersLookup = async (value) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/sellcustomerslookup/`, pagination: { limit: 10 }, filter: { [\"fmulti_customer\"]: `%${value.replaceAll(' ', '%%')}%` } });\r\n    return rows;\r\n}\r\nconst loadArtigosSpecsLookup = async ({ produto_id, token }) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/artigosspecslookup/`, filter: { produto_id }, sort: [], cancelToken: token });\r\n    return rows;\r\n}\r\nconst getArtigoSpecsItems = async ({ artigospecs_id, token }) => {\r\n    if (!artigospecs_id) {\r\n        return [];\r\n    }\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/artigospecsitemsget/`, filter: { artigospecs_id }, sort: [], cancelToken: token });\r\n    return rows;\r\n}\r\nexport default ({ record, setFormTitle, parentRef, closeParent, parentReload, wrapForm = \"form\", forInput = true }) => {\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(true);\r\n    const [isTouched, setIsTouched] = useState(false);\r\n    const [changedValues, setChangedValues] = useState({});\r\n    const [formStatus, setFormStatus] = useState({ error: [], warning: [], info: [], success: [] });\r\n    const [guides, setGuides] = useState(false);\r\n    const [operation, setOperation] = useState(setId(record.artigospecs.id));\r\n    const [resultMessage, setResultMessage] = useState({ status: \"none\" });\r\n    const [customerLookup, setCustomerLookup] = useState([]);\r\n    const [artigosSpecs, setArtigosSpecs] = useState([]);\r\n\r\n    const transformData = ({ items, artigospecs }) => {\r\n        const fieldsValue = { nitems: items.length };\r\n        for (let [i, v] of items.entries()) {\r\n            fieldsValue[`key-${i}`] = v.item_key;\r\n            fieldsValue[`des-${i}`] = v.item_des;\r\n            fieldsValue[`nv-${i}`] = v.item_nvalues;\r\n            const vals = (typeof v.item_values === \"string\") ? JSON.parse(v.item_values) : v.item_values;\r\n            for (let [iV, vV] of vals.entries()) {\r\n                fieldsValue[`v${v.item_key}-${iV}`] = vV;\r\n            }\r\n        }\r\n        const cliente_cod = { key: artigospecs?.cliente_cod, value: artigospecs?.cliente_cod, label: artigospecs?.cliente_nome };\r\n        return { ...artigospecs, ...fieldsValue, cliente_cod };\r\n    }\r\n\r\n    const init = (lookup = false, token) => {\r\n        (async () => {\r\n            if (lookup) {\r\n\r\n            }\r\n            if (operation.key === \"update\") {\r\n                (setFormTitle) && setFormTitle({ title: `Editar Especificações` });\r\n                const { items, ...artigospecs } = record.artigospecs;\r\n                setArtigosSpecs(await loadArtigosSpecsLookup({ produto_id: artigospecs.produto_id, token }));\r\n                form.setFieldsValue(transformData({ items, artigospecs }));\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const cancelFetch = cancelToken();\r\n        init(true, cancelFetch);\r\n        return (() => cancelFetch.cancel(\"Form Specs Cancelled\"));\r\n\r\n    }, []);\r\n\r\n    const onValuesChange = async (changedValues) => {\r\n        setIsTouched(true);\r\n        if ('id' in changedValues) {\r\n            const artigospecs = artigosSpecs.find(v=>v.id===changedValues.id);\r\n            const artigoSpecsItems = await getArtigoSpecsItems({ artigospecs_id: changedValues.id });\r\n            form.setFieldsValue(transformData({ items:artigoSpecsItems, artigospecs }));\r\n        }\r\n        setChangedValues(changedValues);\r\n    }\r\n\r\n    const onFinish = async (values) => {\r\n        if (!isTouched) {\r\n            return;\r\n        }\r\n        const status = { error: [], warning: [], info: [], success: [] };\r\n        const v = schema().validate(values, { abortEarly: false });\r\n        if (!v.error) {\r\n            let error = false;\r\n            for (let k in values) {\r\n                if (values[k] === undefined && k !== \"cliente_cod\" && k !== \"designacao\") {\r\n                    error = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (error) {\r\n                status.error.push({ message: \"Os items têm de estar preenchidos!\" });\r\n            }\r\n            if (status.error.length === 0) {\r\n                const { cliente_cod: { value: cliente_cod, label: cliente_nome } = {} } = values;\r\n                const response = await fetchPost({ url: `${API_URL}/updatecurrentsettings/`, filter: { csid: record.id }, parameters: { type: 'specs', specs: { ...form.getFieldsValue(true), produto_id: record.artigospecs.produto_id, cliente_cod, cliente_nome } } });\r\n                setResultMessage(response.data);\r\n                if (response.data.status !== \"error\") {\r\n                    throw 'TODO RELOAD PARENT'\r\n                    //parentReload({ formulacao_id: record.formulacao.id }, \"init\");\r\n                }\r\n                /* const { cliente_cod: { value: cliente_cod, label: cliente_nome } = {} } = values;\r\n                const response = await fetchPost({ url: `${API_URL}/newartigospecs/`, parameters: { ...form.getFieldsValue(true), produto_id: record.formulacao.produto_id, cliente_cod, cliente_nome } });\r\n                if (response.data.status !== \"error\") {\r\n                    parentReload({ artigospecs_id: record.artigospecs_id }, \"init\");\r\n                }\r\n                setResultMessage(response.data); */\r\n            }\r\n        }\r\n        setFormStatus(status);\r\n    }\r\n\r\n    const onSuccessOK = () => {\r\n        if (operation.key === \"insert\") {\r\n            form.resetFields();\r\n            init();\r\n            setResultMessage({ status: \"none\" });\r\n        }\r\n    }\r\n\r\n    const onErrorOK = () => {\r\n        setResultMessage({ status: \"none\" });\r\n    }\r\n\r\n    const onClose = (reload = false) => {\r\n        closeParent();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ResultMessage\r\n                result={resultMessage}\r\n                successButtonOK={operation.key === \"insert\" && <Button type=\"primary\" key=\"goto-of\" onClick={onSuccessOK}>Criar Novas Especificações</Button>}\r\n                successButtonClose={<Button key=\"goto-close\" onClick={() => onClose(true)}>Fechar</Button>}\r\n                errorButtonOK={<Button type=\"primary\" key=\"goto-ok\" onClick={onErrorOK}>OK</Button>}\r\n                errorButtonClose={<Button key=\"goto-close\" onClick={onClose}>Fechar</Button>}\r\n            >\r\n                <AlertsContainer id=\"el-external\" />\r\n                <AlertMessages formStatus={formStatus} />\r\n                <Form form={form} name={`fps`} onFinish={onFinish} onValuesChange={onValuesChange} component={wrapForm}>\r\n                    <FormLayout\r\n                        id=\"LAY-SPECS-UPSERT\"\r\n                        guides={guides}\r\n                        layout=\"vertical\"\r\n                        style={{ width: \"100%\", padding: \"0px\"/* , minWidth: \"700px\" */ }}\r\n                        schema={schema}\r\n                        field={{\r\n                            forInput,\r\n                            wide: [16],\r\n                            margin: \"2px\", overflow: false, guides: false,\r\n                            label: { enabled: true, pos: \"top\", align: \"start\", vAlign: \"center\", /* width: \"80px\", */ wrap: false, overflow: false, colon: true, ellipsis: true },\r\n                            alert: { pos: \"right\", tooltip: true, container: false /* container: \"el-external\" */ },\r\n                            layout: { top: \"\", right: \"\", center: \"\", bottom: \"\", left: \"\" },\r\n                            required: true,\r\n                            style: { alignSelf: \"top\" }\r\n                        }}\r\n                        fieldSet={{\r\n                            guides: false,\r\n                            wide: 16, margin: \"2px\", layout: \"horizontal\", overflow: false\r\n                        }}\r\n                    >\r\n                        {forInput && <>\r\n                            <FieldSet>\r\n                                <Toolbar\r\n                                    style={{ width: \"100%\" }}\r\n                                    left={\r\n                                        <FieldSet>\r\n                                            <Field name=\"id\" layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Especificações\", pos: \"left\" }}>\r\n                                                <SelectField size=\"small\" data={artigosSpecs} keyField=\"id\" textField=\"designacao\"\r\n                                                    optionsRender={(d, keyField, textField) => ({ label: <div style={{ display: \"flex\" }}><div style={{ minWidth: \"150px\" }}><b>{d[textField]}</b></div><div>v.{d[\"versao\"]}</div></div>, value: d[keyField] })}\r\n                                                />\r\n                                            </Field>\r\n                                        </FieldSet>\r\n                                    }\r\n                                    right={<div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                        <FieldSet style={{ minWidth: \"300px\" }} margin={false} field={{ wide: [16] }}>\r\n                                            <Field name=\"cliente_cod\" required={false} layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Cliente\", pos: \"left\" }}>\r\n                                                <SelectDebounceField\r\n                                                    placeholder=\"Cliente\"\r\n                                                    size=\"small\"\r\n                                                    keyField=\"BPCNUM_0\"\r\n                                                    textField=\"BPCNAM_0\"\r\n                                                    showSearch\r\n                                                    showArrow\r\n                                                    allowClear\r\n                                                    fetchOptions={loadCustomersLookup}\r\n                                                />\r\n                                            </Field>\r\n                                        </FieldSet>\r\n                                    </div>}\r\n                                />\r\n                            </FieldSet>\r\n                            <VerticalSpace height=\"12px\" />\r\n                        </>\r\n                        }\r\n                        {!forInput && <>\r\n                            <FieldSet margin={false} field={{ wide: [16] }}>\r\n                                <Field name=\"cliente_cod\" required={false} layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Cliente\", pos: \"left\" }}>\r\n                                    <SelectDebounceField\r\n                                        placeholder=\"Cliente\"\r\n                                        size=\"small\"\r\n                                        keyField=\"BPCNUM_0\"\r\n                                        textField=\"BPCNAM_0\"\r\n                                        showSearch\r\n                                        showArrow\r\n                                        allowClear\r\n                                        fetchOptions={loadCustomersLookup}\r\n                                    />\r\n                                </Field>\r\n                            </FieldSet>\r\n                            <VerticalSpace height=\"12px\" />\r\n                        </>\r\n                        }\r\n                        <FieldSet wide={16} margin={false} layout=\"vertical\">\r\n                            <FieldSet margin={false}>\r\n                                <FieldItem label={{ enabled: false }} wide={7}></FieldItem>\r\n                                <FieldSet wide={9} margin={false} style={{ minWidth: \"185px\" }}>\r\n                                    <FieldItem label={{ enabled: false }} split={3}><div style={{ textAlign: \"center\", fontWeight: 700 }}>TDS</div></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={50}></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={3}><div style={{ textAlign: \"center\", fontWeight: 700 }}>Objetivo</div></FieldItem>\r\n                                </FieldSet>\r\n                            </FieldSet>\r\n                            <FieldSet margin={false}>\r\n                                <FieldItem label={{ enabled: false }} wide={7}></FieldItem>\r\n                                <FieldSet wide={9} margin={false} style={{ minWidth: \"185px\" }}>\r\n                                    <FieldItem label={{ enabled: false }} split={6}><div style={{ textAlign: \"center\" }}>Min.</div></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={6}><div style={{ textAlign: \"center\" }}>Máx.</div></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={50}></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={6}><div style={{ textAlign: \"center\" }}>Min.</div></FieldItem>\r\n                                    <FieldItem label={{ enabled: false }} split={6}><div style={{ textAlign: \"center\" }}>Máx.</div></FieldItem>\r\n                                </FieldSet>\r\n                            </FieldSet>\r\n                            {artigoSpecsItems.map((v, idx) =>\r\n                                <FieldSet key={`gop-${idx}`} wide={16} field={{ wide: [7, 9] }} margin={false}>\r\n                                    <FieldItem label={{ enabled: false }} style={{ fontSize: \"11px\" }}>\r\n                                        <b>{v.designacao}</b> ({v.unidade})\r\n                                    </FieldItem>\r\n                                    <FieldSet wide={9} margin={false} style={{ minWidth: \"185px\", ...(!forInput && {fontSize:\"10px\"}) }}>\r\n                                        {[...Array(form.getFieldValue(`nv-${idx}`))].map((x, i) => {\r\n                                            if (i % 2 === 0 && i !== 0) {\r\n                                                return (\r\n                                                    <React.Fragment key={`${v.key}-${i}`}>\r\n                                                        <FieldItem label={{ enabled: false }} split={50}></FieldItem>\r\n                                                        <Field split={6} key={`${v.key}-${i}`} name={`v${v.key}-${i}`} label={{ enabled: false }}>\r\n                                                            <InputNumber min={v.min} max={v.max} controls={false} size=\"small\" precision={v?.precision} />\r\n                                                        </Field>\r\n                                                    </React.Fragment>\r\n                                                );\r\n                                            }\r\n                                            return (\r\n                                                <Field split={6} key={`${v.key}-${i}`} name={`v${v.key}-${i}`} label={{ enabled: false }}>\r\n                                                    <InputNumber min={v.min} max={v.max} controls={false} size=\"small\" precision={v?.precision} />\r\n                                                </Field>\r\n                                            );\r\n                                        }\r\n                                        )}\r\n                                    </FieldSet>\r\n                                </FieldSet>\r\n                            )}\r\n                        </FieldSet>\r\n\r\n                    </FormLayout>\r\n                </Form>\r\n                {parentRef && <Portal elId={parentRef.current}>\r\n                    <Space>\r\n                        {isTouched && <Button type=\"primary\" onClick={() => onFinish(form.getFieldsValue(true))}>Guardar</Button>}\r\n                        <Button onClick={onClose}>Fechar</Button>\r\n                    </Space>\r\n                </Portal>\r\n                }\r\n            </ResultMessage>\r\n        </>\r\n    );\r\n}"],"names":["React","useEffect","useState","useCallback","useRef","useMemo","useContext","createUseStyles","styled","dayjs","Joi","fetch","fetchPost","cancelToken","API_URL","getSchema","FormLayout","Field","FieldSet","FieldItem","AlertsContainer","Item","SelectField","CheckboxField","HorizontalRule","VerticalSpace","InputAddon","SelectDebounceField","AlertMessages","ResultMessage","Portal","Toolbar","Input","Space","Form","Button","InputNumber","DatePicker","Select","Spin","DATE_FORMAT","DATETIME_FORMAT","ARTIGOS_SPECS","artigoSpecsItems","filter","v","disabled","schema","keys","excludeKeys","unknown","setId","id","key","values","loadCustomersLookup","value","url","pagination","limit","replaceAll","rows","data","loadArtigosSpecsLookup","produto_id","token","sort","getArtigoSpecsItems","artigospecs_id","record","setFormTitle","parentRef","closeParent","parentReload","wrapForm","forInput","useForm","form","loading","setLoading","isTouched","setIsTouched","changedValues","setChangedValues","error","warning","info","success","formStatus","setFormStatus","guides","setGuides","artigospecs","operation","setOperation","status","resultMessage","setResultMessage","customerLookup","setCustomerLookup","artigosSpecs","setArtigosSpecs","transformData","items","fieldsValue","nitems","length","entries","i","item_key","item_des","item_nvalues","vals","item_values","JSON","parse","iV","vV","cliente_cod","label","cliente_nome","init","lookup","title","setFieldsValue","cancelFetch","cancel","onValuesChange","find","onFinish","validate","abortEarly","k","undefined","push","message","csid","parameters","type","specs","getFieldsValue","response","onSuccessOK","resetFields","onErrorOK","onClose","reload","width","padding","wide","margin","overflow","enabled","pos","align","vAlign","wrap","colon","ellipsis","alert","tooltip","container","layout","top","right","center","bottom","left","required","style","alignSelf","text","d","keyField","textField","display","minWidth","flexDirection","textAlign","fontWeight","map","idx","fontSize","designacao","unidade","Array","getFieldValue","x","min","max","precision","current"],"sourceRoot":""}