{"version":3,"file":"chunks/857/9be2e64cc27600bce131.chunk.js","mappings":"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","sources":["webpack://sgp/./src/pages/SOrders.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport styled from 'styled-components';\r\nimport dayjs from 'dayjs';\r\nimport Joi from 'joi';\r\nimport { fetch, fetchPost } from \"utils/fetch\";\r\nimport { API_URL } from \"config\";\r\nimport { useDataAPI } from \"utils/useDataAPI\";\r\nimport { getSchema } from \"utils/schemaValidator\";\r\nimport { getFilterRangeValues } from 'utils';\r\n\r\nimport FormManager, { FieldLabel, TitleForm, Field, FieldSet, RangeDateField, WrapperForm, FilterDrawer, SelectField, FilterTags, AutoCompleteField, useMessages } from \"components/form\";\r\nimport Table, { setColumns } from \"components/table\";\r\nimport Toolbar from \"components/toolbar\";\r\nimport Portal from \"components/portal\";\r\nimport MoreFilters from 'assets/morefilters.svg'\r\nimport SubLayout from \"components/SubLayout\";\r\nimport Container from \"components/container\";\r\n\r\nimport { Space, Typography, Form, Button, Menu, Dropdown, Switch, Select, Tag, Tooltip } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nimport Icon, { SearchOutlined, UserOutlined, DownOutlined, ProfileOutlined, RightOutlined, ClockCircleOutlined, CheckCircleOutlined, SyncOutlined } from \"@ant-design/icons\";\r\nconst ButtonGroup = Button.Group;\r\nimport { DATE_FORMAT, DATETIME_FORMAT } from 'config';\r\nconst { Title } = Typography;\r\n\r\n/* import FormOrdemFabricoArtigos from \"./ordemFabrico/FormArtigos\"; */\r\n\r\nconst ToolbarTable = ({ form, dataAPI, groupByOrder, setGroupByOrder, setFlyoutStatus, flyoutStatus, ordemFabricoStatusField }) => {\r\n\r\n    // const onFormChange = (type, changedValues, allValues) => {\r\n    //     switch (type) {\r\n    //         case \"filter\":\r\n    //             /* form.setFieldsValue(allValues); */\r\n    //             break;\r\n    //     }\r\n    // }\r\n\r\n    // const handleOFState = (v) => {\r\n    //     dataAPI.addFilters({ ofstatus: v }, false);\r\n    //     dataAPI.first();\r\n    //     dataAPI.fetchPost();\r\n    // }\r\n\r\n    const grouped = () => {\r\n        dataAPI.clearSort();\r\n        dataAPI.addParameters({ groupByOrder: !groupByOrder });\r\n        dataAPI.first();\r\n        dataAPI.fetchPost();\r\n        dataAPI.clearData();\r\n        setGroupByOrder(prev => !prev);\r\n    }\r\n\r\n\r\n\r\n    const leftContent = (\r\n        <>\r\n            <Button type=\"primary\" size=\"small\" disabled={flyoutStatus.visible ? true : false} onClick={() => setFlyoutStatus(prev => ({ ...prev, visible: !prev.visible }))}>Nova Ordem de Fabrico</Button>\r\n        </>\r\n    );\r\n\r\n    const rightContent = (\r\n        <Space>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", whiteSpace: \"nowrap\" }}>\r\n                <div>Agrupar por Encomenda:&nbsp;</div>\r\n                <div><Switch size=\"small\" checked={groupByOrder} onClick={grouped} /></div>\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", whiteSpace: \"nowrap\" }}>\r\n                <div>Ordem de Fabrico:&nbsp;Estado&nbsp;</div>\r\n                <div>\r\n                    <FormManager noStyle={true} visible={true} form={form}>\r\n                        <Field noStyle={true} name=\"ofstatus\" initialValue='all' noLabel>\r\n                            {ordemFabricoStatusField()}\r\n                        </Field>\r\n                    </FormManager>\r\n                </div>\r\n            </div>\r\n        </Space>\r\n    );\r\n\r\n    return (\r\n        <Toolbar left={leftContent} right={rightContent} />\r\n    );\r\n}\r\n\r\nconst menu = (\r\n    <Menu>\r\n        <Menu.Item key=\"1\" icon={<UserOutlined />}>\r\n            1st menu item\r\n        </Menu.Item>\r\n    </Menu>\r\n);\r\n\r\n\r\nconst Expandable = styled.div`\r\n    padding: 20px 80px; \r\n    background: #f0f0f0;\r\n    \r\n    .connector{\r\n        position: absolute;\r\n        top: -10px;\r\n        left: 60px;\r\n        height: 60px;\r\n        z-index: 999;\r\n        border-left: 2px dotted #8c8c8c;\r\n        border-bottom: 2px dotted #8c8c8c;\r\n        width: 25px;\r\n    }\r\n`;\r\n\r\n\r\nconst GlobalSearch = ({ form, dataAPI, setShowFilter, showFilter, ordemFabricoStatusField } = {}) => {\r\n    const [formData, setFormData] = useState({});\r\n    const [changed, setChanged] = useState(false);\r\n\r\n\r\n    const fetchCustomers = async (value) => {\r\n        const { data: { rows } } = await fetchPost({ url: `${API_URL}/sellcustomerslookup/`, pagination: { limit: 10 }, filter: { [\"fmulti_customer\"]: `%${value.replaceAll(' ', '%%')}%` } });\r\n        return rows;\r\n    }\r\n    const fetchOrders = async (value) => {\r\n        const { data: { rows } } = await fetchPost({ url: `${API_URL}/sellorderslookup/`, pagination: { limit: 10 }, filter: { [\"fmulti_order\"]: `%${value.replaceAll(' ', '%%')}%` } });\r\n        return rows;\r\n    }\r\n    const fetchItems = async (value) => {\r\n        const { data: { rows } } = await fetchPost({ url: `${API_URL}/sellitemslookup/`, pagination: { limit: 10 }, filter: { [\"fmulti_item\"]: `%${value.replaceAll(' ', '%%')}%` } });\r\n        return rows;\r\n    }\r\n\r\n    const ordersField = () => (\r\n        <AutoCompleteField\r\n            onChange={(v, options) => { }}\r\n            handleSearch={fetchOrders}\r\n            keyField=\"SOHNUM_0\" valueField=\"SOHNUM_0\" labelField={(item, valueField, keyField) => `${item[keyField]}  -  ${item['PRFNUM_0']}`}\r\n            dropdownMatchSelectWidth={350}\r\n            placeholder=\"Nº Encomenda/Nº Proforma\"\r\n            allowClear />\r\n    );\r\n\r\n    const customersField = () => (\r\n        <AutoCompleteField\r\n            onChange={(v, options) => { }}\r\n            handleSearch={fetchCustomers}\r\n            keyField=\"BPCNUM_0\" valueField=\"BPCNAM_0\" labelField={(item, valueField, keyField) => `${item[keyField]}  -  ${item[valueField]}`}\r\n            dropdownMatchSelectWidth={350}\r\n            placeholder=\"Nº/Nome Cliente\"\r\n            allowClear />\r\n    );\r\n\r\n    const itemsField = () => (\r\n        <AutoCompleteField\r\n            onChange={(v, options) => { }}\r\n            handleSearch={fetchItems}\r\n            keyField=\"ITMREF_0\" valueField=\"ITMDES1_0\" labelField={(item, valueField, keyField) => `${item[keyField]}  -  ${item[valueField]}`}\r\n            dropdownMatchSelectWidth={350}\r\n            placeholder=\"Cód/Designação Artigo\"\r\n            allowClear />\r\n    );\r\n\r\n    const onFinish = (type, values) => {\r\n        switch (type) {\r\n            case \"filter\":\r\n                (!changed) && setChanged(true);\r\n                const _values = {\r\n                    ...values,\r\n                    fmulti_customer: (values[\"fmulti_customer\"] && values[\"fmulti_customer\"].value !== '') ? `%${values[\"fmulti_customer\"].value.replaceAll(' ', '%%')}%` : undefined,\r\n                    fmulti_order: (values[\"fmulti_order\"] && values[\"fmulti_order\"].value !== '') ? `%${values[\"fmulti_order\"].value.replaceAll(' ', '%%')}%` : undefined,\r\n                    fmulti_item: (values[\"fmulti_item\"] && values[\"fmulti_item\"].value !== '') ? `%${values[\"fmulti_item\"].value.replaceAll(' ', '%%')}%` : undefined,\r\n                    LASDLVNUM_0: (values[\"LASDLVNUM_0\"] && values[\"LASDLVNUM_0\"] !== '') ? `%${values[\"LASDLVNUM_0\"].replaceAll(' ', '%%')}%` : undefined,\r\n                    forderdate: getFilterRangeValues(values[\"forderdate\"]?.formatted),\r\n                    SHIDAT_0: getFilterRangeValues(values[\"SHIDAT_0\"]?.formatted)\r\n                };\r\n                dataAPI.addFilters(_values);\r\n                dataAPI.first();\r\n                dataAPI.fetchPost();\r\n                break;\r\n        }\r\n    };\r\n\r\n    /*     const onFormChange = (type, changedValues, allValues) => {\r\n            switch (type) {\r\n                case \"filter\":\r\n                    if ('ofstatus' in changedValues) {\r\n                        dataAPI.addFilters({ ofstatus: changedValues.ofstatus }, false);\r\n                        dataAPI.first();\r\n                        dataAPI.fetchPost();\r\n                    }\r\n                    break;\r\n            }\r\n        } */\r\n\r\n    const onValuesChange = (type, changedValues, allValues) => {\r\n        switch (type) {\r\n            case \"filter\":\r\n                if ('ofstatus' in changedValues) {\r\n                    dataAPI.addFilters({ ofstatus: changedValues.ofstatus }, false);\r\n                    dataAPI.first();\r\n                    dataAPI.fetchPost();\r\n                } else {\r\n                    console.log(\"ENTREI NO Values Change do form...\", allValues);\r\n                    form.setFieldsValue(allValues);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <FilterDrawer schema={filterSchema({ form, ordersField, customersField, itemsField, ordemFabricoStatusField })} filterRules={filterRules()} form={form} width={350} setShowFilter={setShowFilter} showFilter={showFilter} />\r\n            <FormManager\r\n                visible={true}\r\n                form={form}\r\n                name=\"feature-form-1\"\r\n                layout=\"horizontal\"\r\n                onFinish={(values) => onFinish(\"filter\", values)}\r\n                onValuesChange={(changedValues, allValues) => onValuesChange(\"filter\", changedValues, allValues)}\r\n                //messages={messages}\r\n                /* formData={formData} */\r\n                style={{ minWidth: \"40vw\" }}\r\n                rowGap=\"10px\"\r\n                field={{ /* split: 3, */ layout: \"vertical\", gap: \"5px\", overflow: false, labelStyle: { align: \"left\" /* width: \"90px\", align: \"right\", gap: \"10px\" */ }, alert: { position: \"right\", visible: true } }}\r\n                fieldSet={{ wide: 4, layout: \"horizontal\", overflow: false, grow: false /* alert: { position: \"right\", visible: true } */, alert: { position: \"bottom\", visible: true } }}\r\n            >\r\n                <FieldSet wide={5}>\r\n                    <Field name=\"fmulti_order\" initialValue={{ key: '', value: '', label: '' }} noLabel>\r\n                        {ordersField()}\r\n                    </Field>\r\n                </FieldSet>\r\n                <FieldSet>\r\n                    <Field name=\"fmulti_customer\" initialValue={{ key: '', value: '', label: '' }} noLabel>\r\n                        {customersField()}\r\n                    </Field>\r\n                </FieldSet>\r\n                <FieldSet wide={5}>\r\n                    <Field name=\"forderdate\" noLabel>\r\n                        {/* <RangePicker allowClear onPressEnter={() => form.submit()} placeholder={['','']}/> */}\r\n                        <RangeDateField />\r\n                    </Field>\r\n                </FieldSet>\r\n                <FieldSet wide={2} style={{ alignItems: \"flex-end\", justifyContent: \"flex-start\" }}>\r\n\r\n\r\n                    <ButtonGroup>\r\n                        <Button style={{ padding: \"3px\" }} onClick={() => form.submit()}><SearchOutlined /></Button>\r\n                        <Button style={{ padding: \"3px\" }}><MoreFilters style={{ fontSize: \"16px\", marginTop: \"2px\" }} onClick={() => setShowFilter(prev => !prev)} /></Button>\r\n                        <Dropdown overlay={menu}>\r\n                            <Button style={{ padding: \"3px\" }}><DownOutlined /></Button>\r\n                        </Dropdown>\r\n                    </ButtonGroup>\r\n\r\n                </FieldSet>\r\n            </FormManager>\r\n        </>\r\n    );\r\n}\r\n\r\nconst filterRules = (keys) => {\r\n    return getSchema({\r\n        fmulti_item: Joi.string().label(\"Cód/Designação Artigo\")\r\n    }, keys).unknown(true);\r\n}\r\n\r\nconst filterSchema = ({ ordersField, customersField, itemsField, ordemFabricoStatusField }) => [\r\n    { fmulti_order: { label: \"Nº Encomenda/Nº Proforma\", field: ordersField } },\r\n    { fmulti_customer: { label: \"Nº/Nome de Cliente\", field: customersField } },\r\n    { forderdate: { label: \"Data Encomenda\", field: { type: \"rangedate\" } } },\r\n    { fmulti_item: { label: \"Cód/Designação Artigo\", field: itemsField, initialValue: { key: '', value: '', label: '' } } },\r\n    { SHIDAT_0: { label: \"Data Expedição\", field: { type: \"rangedate\" } } },\r\n    { LASDLVNUM_0: { label: \"Nº Última Expedição\" } },\r\n    { ofstatus: { label: \"Ordem de Fabrico: Estado\", field: ordemFabricoStatusField, ignoreFilterTag: (v) => v === 'all' } }\r\n];\r\n\r\nconst Artigos = ({ record }) => {\r\n    const [selectedRows, setSelectedRows] = useState([]);\r\n    const dataAPI = useDataAPI({ payload: { url: `${API_URL}/sellorderitemsList/`, pagination: { enabled: false }, filter: { SOHNUM_0: record.SOHNUM_0 }, sort: [] } });\r\n\r\n    const columns = setColumns(\r\n        {\r\n            dataAPI,\r\n            data: dataAPI.getData().rows,\r\n            uuid: \"items\",\r\n            include: {\r\n                SOHNUM_0: { title: \"Nº Encomenda\" },\r\n                ITMREF_0: { title: \"Cod. Artigo\", optional: false, width: 180 },\r\n                ORIQTY_0: { title: \"Quantidade Original\", optional: false, width: 180 },\r\n                QTY_0: { title: \"Quantidade\", optional: false, width: 120 },\r\n                ITMDES1_0: { title: \"Designação\", optional: false },\r\n                TSICOD_2: { title: \"Gramagem\", optional: false, width: 100 },\r\n                TSICOD_3: { title: \"Largura\", optional: false, width: 100 },\r\n                SDHNUM_0: { title: \"Nº Expedição\", optional: false, width: 150 }\r\n            },\r\n            exclude: [\"SOHNUM_0\"]\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        console.log(\"ENTREI RECORD...\");\r\n        dataAPI.first();\r\n        dataAPI.fetchPost();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {dataAPI.hasData() &&\r\n                <Expandable>\r\n                    <div className=\"connector\"></div>\r\n                    <Table\r\n                        header={false}\r\n                        /* title={<Title level={4}>Artigos</Title>} */\r\n                        columnChooser={false}\r\n                        reload\r\n                        size=\"small\"\r\n                        /* toolbar={<GlobalSearch form={formFilter} dataAPI={dataAPI} />} */\r\n                        selection={{ enabled: true, rowKey: record => record.ITMREF_0, onSelection: setSelectedRows, multiple: true, selectedRows, setSelectedRows }}\r\n                        dataAPI={dataAPI}\r\n                        columns={columns}\r\n                        onFetch={dataAPI.fetchPost}\r\n                        scroll={{ y: 400, scrollToFirstRowOnChange: true }} />\r\n                </Expandable>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nconst FormOrdemFabrico = () => {\r\n    const [formData, setFormData] = useState({});\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = (values) => {\r\n\r\n    };\r\n\r\n    const onFormChange = (changedValues, allValues) => {\r\n        console.log(\"onFormChange -> \", allValues);\r\n        form.setFieldsValue(allValues);\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: \"100%\", height: \"100vh\", borderLeft: \"1px solid #f0f0f0\", boxShadow: \"5px 10px\" }}>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", flexWrap: \"nowrap\", width: \"100%\", height: \"100%\" }}>\r\n                <Toolbar />\r\n                <Header>Header...</Header>\r\n                <Body>\r\n                    <FormManager\r\n                        visible={true}\r\n                        form={form}\r\n                        name=\"form-oredemfabrico\"\r\n                        layout=\"vertical\"\r\n                        onFinish={(values) => onFinish(values)}\r\n                        onValuesChange={(changedValues, allValues) => onFormChange(changedValues, allValues)}\r\n                        //messages={messages}\r\n                        formData={formData}\r\n                        rowGap=\"10px\"\r\n                        field={{ /* split: 3, */ layout: \"vertical\", gap: \"5px\", overflow: false, labelStyle: { align: \"left\" /* width: \"90px\", align: \"right\", gap: \"10px\" */ }, alert: { position: \"right\", visible: true } }}\r\n                        fieldSet={{ wide: 4, layout: \"horizontal\", overflow: false, grow: false /* alert: { position: \"right\", visible: true } */, alert: { position: \"bottom\", visible: true } }}\r\n                    >\r\n\r\n                    </FormManager>\r\n                </Body>\r\n                <Footer>Footer...</Footer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst expandedRowRender = (record) => {\r\n    return (<Artigos record={record} />);\r\n}\r\n\r\nexport default () => {\r\n    const [selectedRows, setSelectedRows] = useState([]);\r\n    const [showFilter, setShowFilter] = useState(false);\r\n    const [expandedRows, setExpandedRows] = useState([]);\r\n    const [formFilter] = Form.useForm();\r\n    const [groupByOrder, setGroupByOrder] = useState(false);\r\n    const dataAPI = useDataAPI({ payload: { url: `${API_URL}/sellorders/`, parameters: { groupByOrder: groupByOrder }, pagination: { enabled: true, page: 1, pageSize: 15 }, filter: {}, sort: [{ column: 'SOHNUM_0', direction: 'DESC', order: 'descend', table: 'enc' }] } });\r\n    const elFilterTags = document.getElementById('filter-tags');\r\n    const [flyoutStatus, setFlyoutStatus] = useState({ visible: false, fullscreen: false });\r\n    const [newOrdemFabrico, setNewOrdemFabrico] = useState([]);\r\n    const flyoutFooterRef = useRef();\r\n\r\n    useEffect(() => {\r\n        dataAPI.first();\r\n        dataAPI.fetchPost();\r\n    }, []);\r\n\r\n    const columns = setColumns(\r\n        {\r\n            dataAPI,\r\n            data: dataAPI.getData().rows,\r\n            uuid: \"sorders\",\r\n            include: {\r\n                ...((common) => (\r\n                    {\r\n                        ...(!groupByOrder) && {\r\n                            ITMREF_0: { title: \"Cód. Artigo\", width: '160px', render: v => <b>{v}</b>, style: { background: \"red\" }/* , fixed:'left' */, ...common },\r\n                            ITMDES1_0: { title: \"Designação Artigo\", width: '350px', render: v => <div style={{  width: '340px',overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', fontSize: '11px' }}>{v}</div>, ...common }\r\n                        }\r\n                    }\r\n                ))({ table: 'itm', idx: 0, optional: false }),\r\n\r\n                ...((common) => (\r\n                    {\r\n                        SOHNUM_0: { title: \"Nº Encomenda\", width: '160px', render: v => <b>{v}</b>, ...common },\r\n                        PRFNUM_0: { title: \"Nº Fatura Proforma\", width: '160px', ...common },\r\n                        ORDDAT_0: { title: \"Data Encomenda\", width: '160px', render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        BPCNAM_0: { title: \"Nome Cliente\", width: '20%', render: v => <div style={{ whiteSpace: 'nowrap'}}><b>{v}</b></div>, ...common }\r\n                    }\r\n                ))({ table: 'enc', idx: 1, optional: false }),\r\n\r\n                ...((common) => (\r\n                    {\r\n                        BPCORD_0: { title: \"Nº Cliente\", ...common },\r\n                        SHIDAT_0: { title: \"Data Expedição\", visible: true, render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        DEMDLVDAT_0: { title: \"Data Expedição Solicitada\", render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        CUSORDREF_0: { title: \"Ref. Encomenda Cliente\", visible: true, ...common },\r\n                        DAYLTI_0: { title: \"Prazo Entrega (Dias)\", visible: true, ...common },\r\n                        LASDLVDAT_0: { title: \"Data Última Expedição\", render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        LASDLVNUM_0: { title: \"Nº Última Expedição\", ...common },\r\n                        LASINVDAT_0: { title: \"Data Última Fatura\", render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        LASINVNUM_0: { title: \"Nº Última Fatura\", ...common },\r\n                        DSPTOTQTY_0: { title: \"Quantidade Acumulada\", ...common },\r\n                        DSPTOTVOL_0: { title: \"Volume Acumulado\", ...common },\r\n                        DSPTOTWEI_0: { title: \"Peso Acumulado\", ...common },\r\n                        DSPVOU_0: { title: \"Unidade Volume\", ...common },\r\n                        DSPWEU_0: { title: \"Unidade Peso\", ...common },\r\n                        CREUSR_0: { title: \"Operador Criação\", ...common },\r\n                        CREDAT_0: { title: \"Data Criação\", render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        CREDATTIM_0: { title: \"Data/Hora Criação\", render: v => dayjs(v).format(DATETIME_FORMAT), ...common },\r\n                        UPDUSR_0: { title: \"Operador Modificação\", ...common },\r\n                        UPDDAT_0: { title: \"Data Modificação\", render: v => dayjs(v).format(DATE_FORMAT), ...common },\r\n                        UPDDATTIM_0: { title: \"Data/Hora Modificação\", render: v => dayjs(v).format(DATETIME_FORMAT), ...common },\r\n                    }\r\n                ))({ table: 'enc' }),\r\n                ACTION: {\r\n                    width: \"40px\",\r\n                    title: '',\r\n                    sort: false,\r\n                    optional: false,\r\n                    /*                     fixed:'right', */\r\n                    idx: 999,\r\n                    render: (v, r) => (\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\", flex: 1, justifyContent: \"flex-end\" }}>\r\n                            {!hasOrdemFabrico(r) && flyoutStatus.visible && <Button style={{marginRight:\"8px\"}} size=\"small\" icon={<RightOutlined />} onClick={() => addNewOrdemFabrico(r)} />}\r\n                            {r.status === 0 && <Tag icon={<ClockCircleOutlined />} color=\"default\" />}\r\n                            {r.status === 1 && <Tag icon={<SyncOutlined spin />} color=\"processing\" />}\r\n                            {r.status === 99 && <Tag icon={<CheckCircleOutlined />} color=\"success\" />}\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n            exclude: []\r\n        }\r\n    );\r\n\r\n    const closeFlyout = ()=>{\r\n        setFlyoutStatus(prev=>({...prev,visible:false}));\r\n    }\r\n\r\n\r\n    const hasOrdemFabrico = (record) => {\r\n        if (!record.ordemfabrico_id && newOrdemFabrico.findIndex(v => (v.SOHNUM_0 == record.SOHNUM_0 && v.ITMREF_0 == record.ITMREF_0)) === -1) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const addNewOrdemFabrico = (record) => {\r\n        if (!hasOrdemFabrico(record)) {\r\n            setNewOrdemFabrico(prev => [...prev, { ...record }]);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const onExpand = (expanded, key) => {\r\n        const singleRowExpand = true;\r\n        if (singleRowExpand) {\r\n            if (expanded) {\r\n                setExpandedRows([key]);\r\n            } else {\r\n                setExpandedRows([]);\r\n            }\r\n        } else {\r\n            let newRows = [];\r\n            if (expanded) {\r\n                if (!expandedRows.includes(key)) {\r\n                    newRows = [...expandedRows, key];\r\n                    setExpandedRows(newRows);\r\n                }\r\n            } else {\r\n                newRows = expandedRows.filter(item => item !== key);\r\n                setExpandedRows(newRows);\r\n            }\r\n        }\r\n        console.log(\"####\", expanded, key);\r\n    }\r\n\r\n\r\n    const ordemFabricoStatusField = () => (\r\n        <SelectField keyField=\"value\" valueField=\"label\" style={{ width: 150 }} options={\r\n            [{ value: \"all\", label: \"Todos\" },\r\n            { value: \"notcreated\", label: \"Não Criada\" },\r\n            { value: \"inpreparation\", label: \"Em Preparação\" },\r\n            { value: \"inprogress\", label: \"Em Progresso\" },\r\n            { value: \"finished\", label: \"Finalizada\" }]\r\n        } />\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <SubLayout flyoutWidth=\"700px\" flyoutStatus={flyoutStatus} style={{ height: \"100vh\" }}>\r\n                <SubLayout.content>\r\n                    <ToolbarTable form={formFilter} dataAPI={dataAPI} groupByOrder={groupByOrder} setGroupByOrder={setGroupByOrder} setFlyoutStatus={setFlyoutStatus} flyoutStatus={flyoutStatus} ordemFabricoStatusField={ordemFabricoStatusField} />\r\n                    {elFilterTags && <Portal elId={elFilterTags}>\r\n                        <FilterTags form={formFilter} filters={dataAPI.getAllFilter()} schema={filterSchema} rules={filterRules()} />\r\n                    </Portal>}\r\n                    <Table\r\n                        title={<Title level={4}>Encomendas</Title>}\r\n                        columnChooser\r\n                        reload\r\n                        size=\"small\"\r\n                        toolbar={<GlobalSearch form={formFilter} dataAPI={dataAPI} setShowFilter={setShowFilter} showFilter={showFilter} ordemFabricoStatusField={ordemFabricoStatusField} />}\r\n                        selection={{ enabled: false, rowKey: record => groupByOrder ? record.SOHNUM_0 : `${record.SOHNUM_0}-${record.ITMREF_0}-${record.SOPLIN_0}`, onSelection: setSelectedRows, multiple: true, selectedRows, setSelectedRows }}\r\n                        {...groupByOrder && {\r\n                            expandable: { expandedRowRender },\r\n                            onExpand: (expanded, record) => onExpand(expanded, record.SOHNUM_0),\r\n                            expandedRowKeys: expandedRows\r\n                        }}\r\n                        paginationProps={{ pageSizeOptions: [10, 15, 20, 30] }}\r\n                        dataAPI={dataAPI}\r\n                        columns={columns}\r\n                        onFetch={dataAPI.fetchPost}\r\n                    /* scroll={{ x: '100%', y: \"75vh\", scrollToFirstRowOnChange: true }} */\r\n                    />\r\n                </SubLayout.content>\r\n                <SubLayout.flyout>\r\n                    <Container.Header fullScreen={false} setStatus={setFlyoutStatus} left={<Title level={4} style={{ marginBottom: \"0px\" }}>Nova Ordem de Fabrico</Title>} />\r\n                    <Container.Body>\r\n                        <FormOrdemFabricoArtigos dataSource={newOrdemFabrico} setDataSource={setNewOrdemFabrico} footerRef={flyoutFooterRef} closeParent={closeFlyout} reloadDataTable={dataAPI.fetchPost}/>\r\n                    </Container.Body>\r\n                    {/* <Container.Footer right={<div ref={flyoutFooterRef}/>} /> */}\r\n                </SubLayout.flyout>\r\n            </SubLayout>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}"],"names":["Select","ButtonGroup","Button","Title","Typography","ToolbarTable","form","dataAPI","groupByOrder","setGroupByOrder","setFlyoutStatus","flyoutStatus","ordemFabricoStatusField","leftContent","type","size","disabled","visible","onClick","prev","rightContent","style","display","flexDirection","whiteSpace","checked","clearSort","addParameters","first","fetchPost","clearData","alignItems","noStyle","name","initialValue","noLabel","left","right","menu","key","icon","Expandable","styled","GlobalSearch","setShowFilter","showFilter","useState","changed","setChanged","fetchCustomers","value","url","API_URL","pagination","limit","filter","replaceAll","rows","data","fetchOrders","fetchItems","ordersField","onChange","v","options","handleSearch","keyField","valueField","labelField","item","dropdownMatchSelectWidth","placeholder","allowClear","customersField","itemsField","onFinish","values","_values","fmulti_customer","undefined","fmulti_order","fmulti_item","LASDLVNUM_0","forderdate","getFilterRangeValues","formatted","SHIDAT_0","addFilters","onValuesChange","changedValues","allValues","ofstatus","setFieldsValue","schema","filterSchema","filterRules","width","layout","minWidth","rowGap","field","gap","overflow","labelStyle","align","alert","position","fieldSet","wide","grow","label","justifyContent","padding","submit","fontSize","marginTop","overlay","keys","getSchema","Joi","unknown","ignoreFilterTag","Artigos","record","selectedRows","setSelectedRows","useDataAPI","payload","enabled","SOHNUM_0","sort","columns","setColumns","getData","uuid","include","title","ITMREF_0","optional","ORIQTY_0","QTY_0","ITMDES1_0","TSICOD_2","TSICOD_3","SDHNUM_0","exclude","useEffect","hasData","className","header","columnChooser","reload","selection","rowKey","onSelection","multiple","onFetch","scroll","y","scrollToFirstRowOnChange","expandedRowRender","expandedRows","setExpandedRows","formFilter","Form","parameters","page","pageSize","column","direction","order","table","elFilterTags","document","getElementById","fullscreen","newOrdemFabrico","setNewOrdemFabrico","flyoutFooterRef","useRef","common","idx","render","background","textOverflow","PRFNUM_0","ORDDAT_0","dayjs","format","DATE_FORMAT","BPCNAM_0","BPCORD_0","DEMDLVDAT_0","CUSORDREF_0","DAYLTI_0","LASDLVDAT_0","LASINVDAT_0","LASINVNUM_0","DSPTOTQTY_0","DSPTOTVOL_0","DSPTOTWEI_0","DSPVOU_0","DSPWEU_0","CREUSR_0","CREDAT_0","CREDATTIM_0","DATETIME_FORMAT","UPDUSR_0","UPDDAT_0","UPDDATTIM_0","ACTION","r","flex","hasOrdemFabrico","marginRight","addNewOrdemFabrico","status","color","spin","ordemfabrico_id","findIndex","flyoutWidth","height","elId","filters","getAllFilter","rules","level","toolbar","SOPLIN_0","expandable","onExpand","expanded","expandedRowKeys","paginationProps","pageSizeOptions","fullScreen","setStatus","marginBottom","FormOrdemFabricoArtigos","dataSource","setDataSource","footerRef","closeParent","reloadDataTable"],"sourceRoot":""}