"use strict";
(self["webpackChunksgp"] = self["webpackChunksgp"] || []).push([["src_pages_currentline_FormLotes_jsx"],{

/***/ "./src/pages/currentline/FormLotes.jsx":
/*!*********************************************!*\
  !*** ./src/pages/currentline/FormLotes.jsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.freeze.js */ "./node_modules/core-js/modules/es.object.freeze.js");
/* harmony import */ var core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.is-array.js */ "./node_modules/core-js/modules/es.array.is-array.js");
/* harmony import */ var core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "./node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "./node_modules/core-js/modules/es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.array.from.js */ "./node_modules/core-js/modules/es.array.from.js");
/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.array.index-of.js */ "./node_modules/core-js/modules/es.array.index-of.js");
/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ "./node_modules/core-js/modules/es.string.split.js");
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "./node_modules/core-js/modules/es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! core-js/modules/es.regexp.constructor.js */ "./node_modules/core-js/modules/es.regexp.constructor.js");
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "./node_modules/core-js/modules/es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! core-js/modules/es.array.find-index.js */ "./node_modules/core-js/modules/es.array.find-index.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! core-js/modules/es.array.reduce.js */ "./node_modules/core-js/modules/es.array.reduce.js");
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ "./node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! joi */ "./node_modules/joi/dist/joi-browser.min.js");
/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(joi__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var utils_fetch__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! utils/fetch */ "./src/utils/fetch.js");
/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! config */ "./src/config/index.js");
/* harmony import */ var utils_schemaValidator__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! utils/schemaValidator */ "./src/utils/schemaValidator.js");
/* harmony import */ var utils__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! utils */ "./src/utils/index.js");
/* harmony import */ var components_formLayout__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! components/formLayout */ "./src/components/formLayout.jsx");
/* harmony import */ var components_alertMessages__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! components/alertMessages */ "./src/components/alertMessages.jsx");
/* harmony import */ var components_resultMessage__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! components/resultMessage */ "./src/components/resultMessage.jsx");
/* harmony import */ var components_YScroll__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! components/YScroll */ "./src/components/YScroll.jsx");
/* harmony import */ var components_portal__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! components/portal */ "./src/components/portal.jsx");
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! antd */ "./node_modules/antd/es/button/index.js");
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! antd */ "./node_modules/antd/es/form/index.js");
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! antd */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! antd */ "./node_modules/antd/es/tag/index.js");
/* harmony import */ var react_use_websocket__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! react-use-websocket */ "./node_modules/react-use-websocket/dist/index.js");

















var _templateObject, _templateObject2;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





















function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }



function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }


















var schema = function schema(keys, excludeKeys) {
  return (0,utils_schemaValidator__WEBPACK_IMPORTED_MODULE_40__.getSchema)({}, keys, excludeKeys).unknown(true);
};

var setId = function setId(id) {
  if (id) {
    return {
      key: "update",
      values: {
        id: id
      }
    };
  }

  return {
    key: "insert",
    values: {}
  };
};

var loadMateriasPrimasLookup = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {
    var token, _yield$fetchPost, rows;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            token = _ref.token;
            _context.next = 3;
            return (0,utils_fetch__WEBPACK_IMPORTED_MODULE_38__.fetchPost)({
              url: "".concat(config__WEBPACK_IMPORTED_MODULE_39__.API_URL, "/materiasprimaslookup/"),
              filter: {},
              sort: [],
              cancelToken: token
            });

          case 3:
            _yield$fetchPost = _context.sent;
            rows = _yield$fetchPost.data.rows;
            return _context.abrupt("return", rows);

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function loadMateriasPrimasLookup(_x) {
    return _ref2.apply(this, arguments);
  };
}();

var loadLotesLookup = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(lote_cod, item_cod) {
    var _yield$fetchPost2, rows;

    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return (0,utils_fetch__WEBPACK_IMPORTED_MODULE_38__.fetchPost)({
              url: "".concat(config__WEBPACK_IMPORTED_MODULE_39__.API_URL, "/loteslookup/"),
              pagination: {
                limit: 10
              },
              filter: {
                item_cod: item_cod,
                loc_cod: 'BUFFER',
                lote_cod: "%".concat(lote_cod, "%")
              }
            });

          case 2:
            _yield$fetchPost2 = _context2.sent;
            rows = _yield$fetchPost2.data.rows;
            return _context2.abrupt("return", rows);

          case 5:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function loadLotesLookup(_x2, _x3) {
    return _ref3.apply(this, arguments);
  };
}();

var TitleExtrusora = function TitleExtrusora(_ref4) {
  var value = _ref4.value,
      extrusoraRef = _ref4.extrusoraRef;
  var show = (0,react__WEBPACK_IMPORTED_MODULE_36__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_36__.useEffect)(function () {
    if (extrusoraRef.current !== value) {
      show.current = true;
      console.log("extrusora", value, extrusoraRef.current);
      extrusoraRef.current = value;
    } else {
      show.current = false;
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(react__WEBPACK_IMPORTED_MODULE_36__.Fragment, null, show.current && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
    wide: 16,
    layout: "horizontal",
    margin: false,
    field: {
      wide: [8, 1.5, 1.5, 5],
      label: {
        enabled: false
      }
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("div", {
    style: {
      fontWeight: 700,
      fontSize: "12px"
    }
  }, "Extrusora ", value)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("div", {
    style: {
      textAlign: "right"
    }
  }, "Qtd. Requerida")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("div", {
    style: {
      textAlign: "right"
    }
  }, "Qtd. Dispon\xEDvel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("div", {
    style: {
      textAlign: "center"
    }
  }, "Lotes"))));
};

var useFocus = function useFocus() {
  var htmlElRef = (0,react__WEBPACK_IMPORTED_MODULE_36__.useRef)(null);

  var setFocus = function setFocus() {
    htmlElRef.current && htmlElRef.current.focus();
  };

  return [htmlElRef, setFocus];
};

var StyledButtonMenu = (0,styled_components__WEBPACK_IMPORTED_MODULE_48__["default"])(antd__WEBPACK_IMPORTED_MODULE_49__["default"]).withConfig({
  shouldForwardProp: function shouldForwardProp(prop) {
    return !['first'].includes(prop);
  }
})(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n    border-radius:0px !important;\n    ", "\n"])), function (_ref5) {
  var _ref5$first = _ref5.first,
      first = _ref5$first === void 0 ? false : _ref5$first;
  return !first && (0,styled_components__WEBPACK_IMPORTED_MODULE_48__.css)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["border-left: 0px !important;"])));
});

var MenuExtrusoras = function MenuExtrusoras(_ref6) {
  var setExtrusora = _ref6.setExtrusora,
      extrusora = _ref6.extrusora,
      setFocus = _ref6.setFocus;

  var onSelect = function onSelect(v) {
    if (extrusora === 'BC' && v === 'BC') {
      setExtrusora('C');
    } else if (extrusora === 'BC' && v === 'C') {
      setExtrusora('B');
    } else {
      setExtrusora(v);
    }

    setFocus();
  };

  var type = function type(v) {
    if (v.includes(extrusora)) {
      return 'primary';
    }

    return 'default';
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(react__WEBPACK_IMPORTED_MODULE_36__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(StyledButtonMenu, {
    size: "large",
    onClick: function onClick() {
      return onSelect('A');
    },
    first: true,
    type: type(['A'])
  }, "Extrusora A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(StyledButtonMenu, {
    size: "large",
    onClick: function onClick() {
      return onSelect('BC');
    },
    type: type(['B', 'BC'])
  }, "Extrusora B"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(StyledButtonMenu, {
    size: "large",
    onClick: function onClick() {
      return onSelect('C');
    },
    type: type(['C', 'BC'])
  }, "Extrusora C"));
};

var Extrusora = function Extrusora(_ref7) {
  var extrusoraRef = _ref7.extrusoraRef,
      form = _ref7.form,
      id = _ref7.id,
      matPrimasLookup = _ref7.matPrimasLookup;
  var name = "lotes".concat(id);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_50__["default"].List, {
    name: name
  }, function (fields, _ref8) {
    var add = _ref8.add,
        remove = _ref8.remove,
        move = _ref8.move;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(react__WEBPACK_IMPORTED_MODULE_36__.Fragment, null, fields.map(function (field, index) {
      var _form$getFieldValue$f, _form$getFieldValue$f2;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(react__WEBPACK_IMPORTED_MODULE_36__.Fragment, {
        key: field.key
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(TitleExtrusora, {
        extrusoraRef: extrusoraRef,
        value: form.getFieldValue(name)[field.name]['extrusora']
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
        wide: 16,
        margin: false
        /* style={{ ...(index % 2 == 0 && { backgroundColor: "#f5f5f5" }) }} */
        ,
        field: {
          label: {
            enabled: false
          },
          style: {
            alignSelf: "center"
          },
          wide: [1, 7, 1.5, 1.5, 5]
          /* style: { border: "solid 1px #fff", borderLeft: "none", fontWeight: "10px" } */

        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.Field, {
        name: [field.name, "mangueira"],
        style: {
          fontSize: "12px",
          backgroundColor: "#fff",
          alignSelf: "center"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.SelectField, {
        tabIndex: 1000,
        size: "large",
        data: config__WEBPACK_IMPORTED_MODULE_39__.FORMULACAO_MANGUEIRAS[form.getFieldValue(name)[field.name]['extrusora']],
        keyField: "key",
        textField: "key",
        optionsRender: function optionsRender(d, keyField, textField) {
          return {
            label: "".concat(d[textField]),
            value: d[keyField]
          };
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.Field, {
        name: [field.name, "matprima_cod"],
        forInput: false,
        style: {
          fontWeight: 700,
          fontSize: "12px",
          alignSelf: "center"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.SelectField, {
        size: "large",
        data: matPrimasLookup,
        keyField: "ITMREF_0",
        textField: "ITMDES1_0",
        optionsRender: function optionsRender(d, keyField, textField) {
          return {
            label: "".concat(d[textField]),
            value: d[keyField]
          };
        },
        showSearch: true,
        filterOption: function filterOption(input, option) {
          return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, {
        style: {
          textAlign: "right",
          alignSelf: "center",
          fontSize: "12px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("b", null, form.getFieldValue(name)[field.name].qty), " kg"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, {
        style: _objectSpread({
          textAlign: "right",
          alignSelf: "center",
          fontSize: "12px"
        }, form.getFieldValue(name)[field.name].qty <= form.getFieldValue(name)[field.name].qty_available && {
          color: "#237804"
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("b", null, form.getFieldValue(name)[field.name].qty_available), " kg"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, {
        style: {
          alignSelf: "center",
          fontSize: "12px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_51__["default"], {
        size: 2,
        wrap: true
      }, ((_form$getFieldValue$f = form.getFieldValue(name)[field.name]) === null || _form$getFieldValue$f === void 0 ? void 0 : _form$getFieldValue$f.lotes) && ((_form$getFieldValue$f2 = form.getFieldValue(name)[field.name]) === null || _form$getFieldValue$f2 === void 0 ? void 0 : _form$getFieldValue$f2.lotes.map(function (v, idx) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_52__["default"], {
          style: {
            fontSize: "11px",
            padding: "2px"
          },
          closable: true,
          key: "lot-".concat(idx),
          color: "orange"
        }, v.lote, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("b", null, v.qty), " ", v.unit.toLowerCase());
      }))))));
    }));
  });
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (_ref9) {
  var record = _ref9.record,
      setFormTitle = _ref9.setFormTitle,
      parentRef = _ref9.parentRef,
      closeParent = _ref9.closeParent,
      parentReload = _ref9.parentReload,
      _ref9$wrapForm = _ref9.wrapForm,
      wrapForm = _ref9$wrapForm === void 0 ? "form" : _ref9$wrapForm,
      _ref9$forInput = _ref9.forInput,
      forInput = _ref9$forInput === void 0 ? true : _ref9$forInput;

  var _Form$useForm = antd__WEBPACK_IMPORTED_MODULE_50__["default"].useForm(),
      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),
      form = _Form$useForm2[0];

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)(true),
      _useState2 = _slicedToArray(_useState, 2),
      loading = _useState2[0],
      setLoading = _useState2[1];

  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)({}),
      _useState4 = _slicedToArray(_useState3, 2),
      changedValues = _useState4[0],
      setChangedValues = _useState4[1];

  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)({
    error: [],
    warning: [],
    info: [],
    success: []
  }),
      _useState6 = _slicedToArray(_useState5, 2),
      formStatus = _useState6[0],
      setFormStatus = _useState6[1];

  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)(false),
      _useState8 = _slicedToArray(_useState7, 2),
      guides = _useState8[0],
      setGuides = _useState8[1];

  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)(setId(record.artigospecs_id)),
      _useState10 = _slicedToArray(_useState9, 2),
      operation = _useState10[0],
      setOperation = _useState10[1];

  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)({
    status: "none"
  }),
      _useState12 = _slicedToArray(_useState11, 2),
      resultMessage = _useState12[0],
      setResultMessage = _useState12[1];

  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)([]),
      _useState14 = _slicedToArray(_useState13, 2),
      matPrimasLookup = _useState14[0],
      setMatPrimasLookup = _useState14[1];

  var extrusoraRef = (0,react__WEBPACK_IMPORTED_MODULE_36__.useRef)();

  var _useFocus = useFocus(),
      _useFocus2 = _slicedToArray(_useFocus, 2),
      inputRef = _useFocus2[0],
      setInputFocus = _useFocus2[1];

  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_36__.useState)('A'),
      _useState16 = _slicedToArray(_useState15, 2),
      extrusora = _useState16[0],
      setExtrusora = _useState16[1];

  var _useWebSocket = (0,react_use_websocket__WEBPACK_IMPORTED_MODULE_47__["default"])("".concat(config__WEBPACK_IMPORTED_MODULE_39__.SOCKET.url, "/lotespick"), {
    onOpen: function onOpen() {
      return console.log("Connected to Web Socket");
    },

    /*         onMessage: (v) => {
                if (lastJsonMessage) {
                    console.log(v,lastJsonMessage);
                }
            }, */
    queryParams: {
      'token': '123456'
    },
    onError: function onError(event) {
      console.error(event);
    },
    shouldReconnect: function shouldReconnect(closeEvent) {
      return true;
    },
    reconnectInterval: 3000
  }),
      lastJsonMessage = _useWebSocket.lastJsonMessage,
      sendJsonMessage = _useWebSocket.sendJsonMessage;

  var init = function init(_ref10) {
    var _ref10$lookup = _ref10.lookup,
        lookup = _ref10$lookup === void 0 ? false : _ref10$lookup,
        token = _ref10.token;

    _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {
      var matPrimas, gsmNwSup, gsmNwInf, filmeSqm, lotes;
      return regeneratorRuntime.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              if (!lookup) {
                _context3.next = 6;
                break;
              }

              _context3.t0 = setMatPrimasLookup;
              _context3.next = 4;
              return loadMateriasPrimasLookup({
                token: token
              });

            case 4:
              _context3.t1 = _context3.sent;
              (0, _context3.t0)(_context3.t1);

            case 6:
              //Load das Matérias Primas em Buffer via Socket
              matPrimas = record.formulacao.items.map(function (_ref12) {
                var matprima_cod = _ref12.matprima_cod;
                return "'".concat(matprima_cod, "'");
              }).join(',');
              sendJsonMessage({
                cmd: 'loadmatprimas',
                value: matPrimas,
                cs: record.id
              });
              console.log("$$#$#$#$#$--", record.nonwovens);
              console.log("$$#$#$#$#$--", record.quantity);
              console.log("$$#$#$#$#$--", record.produto);
              console.log("$$#$#$#$#$--", record.formulacao);
              console.log("$$#$#$#$#$--", record.lotes);
              gsmNwSup = record.nonwovens.nw_des_sup.split(new RegExp('gsm', 'i'))[0].trim().split(' ').pop();
              gsmNwInf = record.nonwovens.nw_des_inf.split(new RegExp('gsm', 'i'))[0].trim().split(' ').pop();
              filmeSqm = Number(record.quantity.square_meters) * (Number(gsmNwSup) + Number(gsmNwInf)) / Number(record.produto.gsm);
              lotes = {
                A: [],
                B: [],
                C: []
              };

              if (!(record.lotes && record.lotes.length > 0)) {
                _context3.next = 22;
                break;
              }

              console.log("$$#$#$#$#$-lotes-", record.lotes);
              throw 'TODO---------';

            case 22:
              record.formulacao.items.forEach(function (v) {
                console.log(v.extrusora, "-------");
                var vitem = {
                  qty_available: 0,
                  lotes: [],
                  qty: Math.round(filmeSqm * (Number(v.vglobal) / 100), 2),
                  type: 0,
                  //lotes de extrusoras
                  extrusora: v.extrusora,
                  matprima_cod: v.matprima_cod
                };

                if (v.extrusora === 'BC') {
                  lotes['B'].push(_objectSpread(_objectSpread({}, vitem), {}, {
                    extrusora: 'B'
                  }));
                  lotes['C'].push(_objectSpread(_objectSpread({}, vitem), {}, {
                    extrusora: 'C'
                  }));
                } else {
                  lotes[v.extrusora].push(vitem);
                }
                /* if (!('qty_available' in v)) v.qty_available = 0;
                if (!('lotes' in v)) v.lotes = [];
                if (!('qty' in v)) v.qty = Math.round((filmeSqm * (Number(v.vglobal) / 100)) * 0.1, 2);
                      console.log(v.vglobal, "-------", (filmeSqm * (Number(v.vglobal) / 100))) */

              });

            case 23:
              form.setFieldsValue({
                lotesA: lotes['A'],
                lotesB: lotes['B'],
                lotesC: lotes['C']
                /* groupBy(record.formulacao.items, 'extrusora') */

              });
              setLoading(false);

            case 25:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }))();
  };

  (0,react__WEBPACK_IMPORTED_MODULE_36__.useEffect)(function () {
    var cancelFetch = (0,utils_fetch__WEBPACK_IMPORTED_MODULE_38__.cancelToken)();
    init({
      lookup: true,
      token: cancelFetch
    });
    return function () {
      return cancelFetch.cancel("Form Lotes Cancelled");
    };
  }, []);

  var onValuesChange = function onValuesChange(changedValues) {
    console.log("CHANGEDDDDD--", changedValues, " EXTRUSORA SELECIONADA--", extrusora);
    setChangedValues(changedValues);
  };

  var onFinish = /*#__PURE__*/function () {
    var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(values) {
      return regeneratorRuntime.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
            case "end":
              return _context4.stop();
          }
        }
      }, _callee4);
    }));

    return function onFinish(_x4) {
      return _ref13.apply(this, arguments);
    };
  }();

  var onSuccessOK = function onSuccessOK() {
    if (operation.key === "insert") {
      form.resetFields();
      init();
      setResultMessage({
        status: "none"
      });
    }
  };

  var onErrorOK = function onErrorOK() {
    setResultMessage({
      status: "none"
    });
  };

  var onClose = function onClose() {
    var reload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    closeParent();
  };
  /*     const ItemLabelRenderer = ({ d }) => {
          return (
              <div>
                  <div>{d["LOT_0"]}</div>
                  <Space><div>{d["QTYPCU_0"]}{d["PCUORI_0"]}</div></Space>
              </div>
          );
      } */

  /*     const lotesRenderer = (d) => {
          return { label: <ItemLabelRenderer d={d} />, key: d["LOT_0"], value: d["LOT_0"] };
      } */


  (0,react__WEBPACK_IMPORTED_MODULE_36__.useEffect)(function () {
    if (lastJsonMessage && lastJsonMessage.length > 0) {
      var eA = [];
      var eB = [];
      var eC = [];
      var idx = -1;

      if (extrusora === 'A') {
        eA.push.apply(eA, _toConsumableArray(form.getFieldValue('lotesA')));
        idx = eA.findIndex(function (v) {
          return v.extrusora === 'A' && v.matprima_cod === lastJsonMessage[0].ITMREF_0;
        });

        if (idx >= 0) {
          if (eA[idx].lotes.findIndex(function (v) {
            return v.lote === lastJsonMessage[0].LOT_0;
          }) === -1) {
            eA[idx].lotes = [].concat(_toConsumableArray(eA[idx].lotes), [{
              lote: lastJsonMessage[0].LOT_0,
              qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2),
              unit: lastJsonMessage[0].PCUORI_0
            }]);
            eA[idx].qty_available = eA[idx].lotes.reduce(function (basket, itm) {
              return itm.qty + basket;
            }, 0);
            console.log('picjeddddd', eA[idx].lotes.reduce(function (prev, v) {
              return v.qty + prev;
            }, 0)); //eA[idx].lotes.forEach(e => { eA[idx].qty_available += e.qty; });

            form.setFieldsValue({
              lotesA: eA
            });
          }
        }
      } else {
        eB.push.apply(eB, _toConsumableArray(form.getFieldValue('lotesB')));
        eC.push.apply(eC, _toConsumableArray(form.getFieldValue('lotesC')));
        idx = eB.findIndex(function (v) {
          return v.extrusora === 'B' && v.matprima_cod === lastJsonMessage[0].ITMREF_0;
        });

        if (idx >= 0) {
          if (eB[idx].lotes.findIndex(function (v) {
            return v.lote === lastJsonMessage[0].LOT_0;
          }) === -1) {
            eB[idx].lotes = [].concat(_toConsumableArray(eB[idx].lotes), [{
              lote: lastJsonMessage[0].LOT_0,
              qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2),
              unit: lastJsonMessage[0].PCUORI_0
            }]);
            eB[idx].qty_available = eB[idx].lotes.reduce(function (basket, itm) {
              return itm.qty + basket;
            }, 0); //eB[idx].lotes.forEach(e => { eB[idx].qty_available += e.qty; });

            eC[idx].lotes = [].concat(_toConsumableArray(eC[idx].lotes), [{
              lote: lastJsonMessage[0].LOT_0,
              qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2),
              unit: lastJsonMessage[0].PCUORI_0
            }]);
            eC[idx].qty_available = eC[idx].lotes.reduce(function (basket, itm) {
              return itm.qty + basket;
            }, 0); //eC[idx].lotes.forEach(e => { eC[idx].qty_available += e.qty; });

            form.setFieldsValue({
              lotesB: eB,
              lotesC: eC
            });
          }
        }
      } // let _extrusora = extrusora;
      // if (_extrusora === 'A') {
      //     selExtrusora.push(...form.getFieldValue('lotesA'));
      // } else {
      //     selExtrusora.push(...form.getFieldValue('lotesB'));
      //     _extrusora='B';
      // }
      // const idx = selExtrusora.findIndex(v => v.extrusora === _extrusora && v.matprima_cod === lastJsonMessage[0].ITMREF_0);
      // if (idx >= 0) {
      //     if (selExtrusora[idx].lotes.findIndex(v => v.lote === lastJsonMessage[0].LOT_0) === -1) {
      //         const lt = { lote: lastJsonMessage[0].LOT_0, qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2), unit: lastJsonMessage[0].PCUORI_0 };
      //         selExtrusora[idx].lotes = [...selExtrusora[idx].lotes,{...lt}];
      //         selExtrusora[idx].qty_available = selExtrusora[idx].lotes.reduce((basket, itm) => (itm.qty + basket));
      //         selExtrusora[idx].lotes.forEach(e => { selExtrusora[idx].qty_available += e.qty; });
      //         if (extrusora==='BC'){
      //             selExtrusora[idx].lotes = [...selExtrusora[idx].lotes,{...lt}];
      //             selExtrusora[idx].qty_available = selExtrusora[idx].lotes.reduce((basket, itm) => (itm.qty + basket));
      //             selExtrusora[idx].lotes.forEach(e => { selExtrusora[idx].qty_available += e.qty; });
      //         }
      //         console.log("TO PICKKKK",extrusora,selExtrusora,lt);
      //         //fv[idx].lotes = [...fv[idx].lotes, { lote: lastJsonMessage[0].LOT_0, qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2), unit: lastJsonMessage[0].PCUORI_0 }];
      //         ////fv[idx].qty_available = fv[idx].lotes.reduce((basket, itm) => (itm.qty + basket));
      //         //fv[idx].lotes.forEach(e => { fv[idx].qty_available += e.qty; });
      //         //form.setFieldsValue(fv);
      //     }
      // }
      // const idx = fv.findIndex(v => v.extrusora === extrusora && v.matprima_cod === lastJsonMessage[0].ITMREF_0);
      // if (idx >= 0) {
      //     if (fv[idx].lotes.findIndex(v => v.lote === lastJsonMessage[0].LOT_0) === -1) {
      //         fv[idx].lotes = [...fv[idx].lotes, { lote: lastJsonMessage[0].LOT_0, qty: Math.round(lastJsonMessage[0].QTYPCU_0, 2), unit: lastJsonMessage[0].PCUORI_0 }];
      //         //fv[idx].qty_available = fv[idx].lotes.reduce((basket, itm) => (itm.qty + basket));
      //         fv[idx].lotes.forEach(e => { fv[idx].qty_available += e.qty; });
      //         form.setFieldsValue(fv);
      //     }
      // }
      // /* const fv = form.getFieldsValue(true);
      // const lotes = !("lotes" in fv) ? [] : fv.lotes;
      // lotes.push({ lote_cod: lastJsonMessage[0].LOT_0 });
      // fv.lotes = lotes; 
      // form.setFieldsValue(fv);
      // */

    }

    inputRef.current.value = '';
  }, [lastJsonMessage]);

  var onManualPick = function onManualPick(v) {
    sendJsonMessage({
      cmd: 'pick',
      value: v.key,
      cs: record.id
    });
  };

  var onPick = function onPick(e, a, b) {
    if (e.keyCode == 9 || e.keyCode == 13) {
      if (inputRef.current.value !== '') {
        e.preventDefault();
        sendJsonMessage({
          cmd: 'pick',
          value: inputRef.current.value,
          cs: record.id
        }); //setInputFocus();
      } //console.log("----",inputRef.current.state.value,'----',fv);

    } else {
      console.log("xxxx->", e);
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(react__WEBPACK_IMPORTED_MODULE_36__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_resultMessage__WEBPACK_IMPORTED_MODULE_44__["default"], {
    result: resultMessage,
    successButtonOK: operation.key === "insert" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
      type: "primary",
      key: "goto-of",
      onClick: onSuccessOK
    }, "Lotes de Mat\xE9rias Primas"),
    successButtonClose: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
      key: "goto-close",
      onClick: function onClick() {
        return onClose(true);
      }
    }, "Fechar"),
    errorButtonOK: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
      type: "primary",
      key: "goto-ok",
      onClick: onErrorOK
    }, "OK"),
    errorButtonClose: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
      key: "goto-close",
      onClick: onClose
    }, "Fechar")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.AlertsContainer, {
    id: "el-external"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_alertMessages__WEBPACK_IMPORTED_MODULE_43__["default"], {
    formStatus: formStatus
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_50__["default"], {
    form: form,
    name: "flotes",
    onFinish: onFinish,
    onValuesChange: onValuesChange,
    component: wrapForm
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FormLayout, {
    id: "LAY-LOTES",
    guides: guides,
    layout: "vertical",
    style: {
      width: "100%",
      padding: "0px",
      height: "65vh"
      /* , minWidth: "700px" */

    },
    schema: schema,
    field: {
      forInput: forInput,
      wide: [16],
      margin: "2px",
      overflow: false,
      guides: false,
      label: {
        enabled: true,
        pos: "top",
        align: "start",
        vAlign: "center",

        /* width: "80px", */
        wrap: false,
        overflow: false,
        colon: true,
        ellipsis: true
      },
      alert: {
        pos: "right",
        tooltip: true,
        container: false
        /* container: "el-external" */

      },
      layout: {
        top: "",
        right: "",
        center: "",
        bottom: "",
        left: ""
      },
      required: true,
      style: {
        alignSelf: "top"
      }
    },
    fieldSet: {
      guides: false,
      wide: 16,
      margin: "2px",
      layout: "horizontal",
      overflow: false
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
    wide: 16,
    margin: false,
    field: {
      wide: [4, 6, 6]
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, {
    label: {
      enabled: false
    },
    style: {
      textAlign: "center"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(MenuExtrusoras, {
    setExtrusora: setExtrusora,
    extrusora: extrusora,
    setFocus: function setFocus() {
      return setInputFocus(inputRef);
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldItem, {
    label: {
      enabled: false
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement("input", {
    className: "ant-input ant-input-lg",
    ref: inputRef,
    onKeyDown: onPick,
    autoFocus: true
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.Field, {
    required: false,
    layout: {
      center: "align-self:center;",
      right: "align-self:center;"
    },
    label: {
      enabled: false
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.SelectDebounceField, {
    defaultActiveFirstOption: true,
    placeholder: "Lote Picagem Manual",
    size: "large",
    keyField: "LOT_0",
    textField: "LOT_0",
    showSearch: true,
    showArrow: true,
    allowClear: true,
    onSelect: onManualPick,
    fetchOptions: function fetchOptions(v) {
      return loadLotesLookup(v);
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_YScroll__WEBPACK_IMPORTED_MODULE_45__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
    layout: "horizontal",
    margin: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
    layout: "vertical",
    split: 2,
    margin: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(Extrusora, {
    id: "A",
    form: form,
    extrusoraRef: extrusoraRef,
    matPrimasLookup: matPrimasLookup
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_formLayout__WEBPACK_IMPORTED_MODULE_42__.FieldSet, {
    layout: "vertical",
    split: 2,
    margin: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(Extrusora, {
    id: "B",
    form: form,
    extrusoraRef: extrusoraRef,
    matPrimasLookup: matPrimasLookup
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(Extrusora, {
    id: "C",
    form: form,
    extrusoraRef: extrusoraRef,
    matPrimasLookup: matPrimasLookup
  })))))), parentRef && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(components_portal__WEBPACK_IMPORTED_MODULE_46__["default"], {
    elId: parentRef.current
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_51__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
    type: "primary",
    onClick: function onClick() {
      return form.submit();
    }
  }, "Registar"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_36__.createElement(antd__WEBPACK_IMPORTED_MODULE_49__["default"], {
    onClick: function onClick() {
      return setGuides(!guides);
    }
  }, guides ? "No Guides" : "Guides")))));
});

/***/ })

}]);
//# sourceMappingURL=src_pages_currentline_FormLotes_jsx.chunk.js.map