{"version":3,"file":"chunks/src_pages_planeamento_paletesStock_FormPaletesStockUpsert_jsx.chunk.js","mappings":"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","sources":["webpack://sgp/./src/pages/planeamento/paletesStock/FormPaletesStockUpsert.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef, useMemo } from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport styled from 'styled-components';\r\nimport dayjs from 'dayjs';\r\nimport Joi from 'joi';\r\nimport { fetch, fetchPost, cancelToken } from \"utils/fetch\";\r\nimport { API_URL } from \"config\";\r\nimport { getSchema } from \"utils/schemaValidator\";\r\nimport { FormLayout, Field, FieldSet, FieldItem, AlertsContainer, Item, SelectField, CheckboxField, HorizontalRule, VerticalSpace, InputAddon, SelectDebounceField } from \"components/formLayout\";\r\nimport AlertMessages from \"components/alertMessages\";\r\nimport ResultMessage from 'components/resultMessage';\r\nimport Portal from \"components/portal\";\r\nimport Toolbar from \"components/toolbar\";\r\nimport YScroll from \"components/YScroll\";\r\nimport { Input, Space, Form, Button, InputNumber, DatePicker, Select, Spin, Transfer, Tag } from \"antd\";\r\nconst ButtonGroup = Button.Group;\r\nimport { DATE_FORMAT, DATETIME_FORMAT } from 'config';\r\nimport Table, { setColumns } from \"components/table\";\r\nimport { useDataAPI } from \"utils/useDataAPI\";\r\nimport { RightOutlined, LeftOutlined, LoadingOutlined, SwapOutlined, SearchOutlined } from '@ant-design/icons';\r\n\r\nconst schema = (keys, excludeKeys) => {\r\n    return getSchema({}, keys, excludeKeys).unknown(true);\r\n}\r\n\r\nconst setId = (id) => {\r\n    if (id) {\r\n        return { key: \"update\", values: { id } };\r\n    }\r\n    return { key: \"insert\", values: {} };\r\n}\r\n\r\nconst loadPaletesStockLookup = async (of_id) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/paletesstocklookup/`, pagination: { enabled: true, page: 1, pageSize: 20 }, filter: { of_id } });\r\n    return rows;\r\n}\r\n\r\n\r\n\r\n/* <Table\r\n    rowSelection={rowSelection}\r\n    columns={columns}\r\n    dataSource={filteredItems}\r\n    size=\"small\"\r\n    rowKey=\"nome\"\r\n    style={{ pointerEvents: listDisabled ? 'none' : null }}\r\n    onRow={({ key, disabled: itemDisabled }) => ({\r\n        onClick: () => {\r\n            if (itemDisabled || listDisabled) return;\r\n            onItemSelect(key, !listSelectedKeys.includes(key));\r\n        },\r\n    })}\r\n/> */\r\n\r\n\r\nconst GlobalSearch = ({ form, formName, dataAPI } = {}) => {\r\n\r\n    const onValuesChange = (changedValues) => {\r\n        \r\n    }\r\n\r\n    const onFinish = async () => {\r\n        const { item_id, of_id } = dataAPI.getFilter();\r\n        dataAPI.addFilters({ of_id, item_id, [formName]: form.getFieldValue(formName) });\r\n        dataAPI.first();\r\n        dataAPI.fetchPost();\r\n    }\r\n\r\n    return (\r\n        <Form form={form} name={formName} onFinish={onFinish} onValuesChange={onValuesChange} >\r\n            <FormLayout\r\n                id=\"PS-FILTER\"\r\n                layout=\"horizontal\"\r\n                style={{ width: \"100%\", padding: \"0px\"/* , minWidth: \"700px\" */ }}\r\n                field={{\r\n                    forInput: true,\r\n                    wide: [16],\r\n                    margin: \"2px\", overflow: false,\r\n                    label: { enabled: true, pos: \"top\", wrap: false, overflow: false, colon: true, ellipsis: true },\r\n                    alert: { pos: \"right\", tooltip: true, container: false /* container: \"el-external\" */ },\r\n                    layout: { top: \"\", right: \"\", center: \"\", bottom: \"\", left: \"\" },\r\n                    required: true,\r\n                    style: { alignSelf: \"center\" }\r\n                }}\r\n                fieldSet={{ wide: 16, margin: false, layout: \"horizontal\", overflow: false, style: { alignSelf: \"center\" } }}\r\n            >\r\n                <Field name={formName} label={{ enabled: false }} addons={{right:<Button /* style={{ padding: \"3px\" }} */ size='small' onClick={onFinish}><SearchOutlined /></Button>}}><Input size=\"small\"/></Field>\r\n            </FormLayout>\r\n        </Form>\r\n    );\r\n}\r\n\r\nconst TableTransfer = ({ aggItem, leftColumns, rightColumns, leftDataAPI, rightDataAPI, setResultMessage, ...props }) => {\r\n    const [formLeftFilter] = Form.useForm();\r\n    const [formRightFilter] = Form.useForm();\r\n    const { tempof_id: id, qty_encomenda } = aggItem;\r\n    const [leftSelectedRows, setLeftSelectedRows] = useState([]);\r\n    const [rightSelectedRows, setRightSelectedRows] = useState([]);\r\n    const [selectedTotais, setSelectedTotais] = useState({ left: { st: 0, stm2: 0, total: 0, totalm2: 0 }, right: { st: 0, stm2: 0, total: 0, totalm2: 0, vTotal: 0, vTotalm2: 0 } });\r\n\r\n    useEffect(() => {\r\n        if (!(leftDataAPI.isLoading() && rightDataAPI.isLoading())) {\r\n            const totalm2 = rightDataAPI.getData().rows.reduce((a, b) => a + (b[\"area\"] || 0), 0);\r\n            setSelectedTotais(prev => ({\r\n                left: { st: 0, stm2: 0, total: 0, totalm2: 0 },\r\n                right: { st: 0, stm2: 0, vTotal: rightDataAPI.getData().total, vTotalm2: totalm2, total: rightDataAPI.getData().total, totalm2 }\r\n            }));\r\n        }\r\n    }, [(leftDataAPI.isLoading() && rightDataAPI.isLoading())]);\r\n\r\n\r\n    const addRemove = async () => {\r\n        const response = await fetchPost({ url: `${API_URL}/savepaletesstock/`, parameters: { id, left: leftSelectedRows, right: rightSelectedRows } });\r\n        if (response.data.status !== \"error\") {\r\n            const cancelFetch = cancelToken();\r\n            setLeftSelectedRows([]);\r\n            leftDataAPI.fetchPost({ token: cancelFetch });\r\n            rightDataAPI.fetchPost({ token: cancelFetch });\r\n        } else {\r\n            setResultMessage(response.data);\r\n        }\r\n    }\r\n\r\n    const selection = (s, key, keyValue, value) => {\r\n        if (Array.isArray(value)) {\r\n            s[key] = { ...s[key], st: value.length, stm2: value.reduce((a, b) => a + (b[\"area\"] || 0), 0) };\r\n            console.log(\"array\", s);\r\n        } else {\r\n            if (keyValue.length <= s[key].st) {\r\n                //remove\r\n                s[key] = { ...s[key], st: keyValue.length, stm2: (parseFloat(s[key].stm2) - value.area) };\r\n            } else {\r\n                //add\r\n                s[key] = { ...s[key], st: keyValue.length, stm2: (parseFloat(s[key].stm2) + value.area) };\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const onSelectionLeft = (keyValue, value) => {\r\n        const s = { ...selectedTotais };\r\n        selection(s, \"left\", keyValue, value);\r\n        s.right.vTotal = s.right.total - s.right.st + s.left.st;\r\n        s.right.vTotalm2 = s.right.totalm2 - s.right.stm2 + s.left.stm2;\r\n        setSelectedTotais(s);\r\n    }\r\n\r\n    const onSelectionRight = (keyValue, value) => {\r\n        const s = { ...selectedTotais };\r\n        selection(s, \"right\", keyValue, value);\r\n        s.right.vTotal = s.right.total - s.right.st + s.left.st;\r\n        s.right.vTotalm2 = s.right.totalm2 - s.right.stm2 + s.left.stm2;\r\n        setSelectedTotais(s);\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <div>\r\n                <Toolbar\r\n                    style={{ width: \"100%\" }}\r\n                    left={\r\n                        <div>Encomenda <b>{aggItem.qty_encomenda} m&#178;</b></div>\r\n                    }\r\n                    right={<div>\r\n                        <div><b>{selectedTotais.right.total}</b> Paletes Adicionadas</div>\r\n                        <div style={{ color: qty_encomenda <= selectedTotais.right.vTotalm2 ? \"#389e0d\" : \"#000\" }}><b>{selectedTotais.right.totalm2.toFixed(2)} m&#178;</b></div>\r\n                    </div>}\r\n                />\r\n            </div>\r\n\r\n\r\n\r\n            <div style={{ display: \"flex\", flexDirection: \"row\",overflow:\"hidden\"/* , alignItems: \"center\" */ }}>\r\n                <div style={{ width: \"45%\" }}>\r\n                    <div>\r\n                        <div>Paletes em Stock (<b>{selectedTotais.left.st}</b> selecionadas)</div>\r\n                        <div><b>{selectedTotais.left.stm2.toFixed(2)} m&#178;</b></div>\r\n                    </div>\r\n                    <Table\r\n                        columnChooser={false}\r\n                        reload={false}\r\n                        clearSort={false}\r\n                        stripRows\r\n                        darkHeader={false}\r\n                        toolbar={<GlobalSearch form={formLeftFilter} formName=\"fpl-filter\" dataAPI={leftDataAPI} />}\r\n                        size=\"small\"\r\n                        selection={{ enabled: true, rowKey: \"id\", onSelection: onSelectionLeft, multiple: true, selectedRows: leftSelectedRows, setSelectedRows: setLeftSelectedRows }}\r\n                        paginationProps={{ pageSizeOptions: [10, 15, 20, 30] }}\r\n                        dataAPI={leftDataAPI}\r\n                        columns={leftColumns}\r\n                        onFetch={leftDataAPI.fetchPost}\r\n                    //scroll={{ x: '100%', y: \"75vh\", scrollToFirstRowOnChange: true }}\r\n                    />\r\n                </div>\r\n                <div style={{ width: \"5%\", textAlign: \"center\", alignSelf: \"center\" }}><Button type='primary' onClick={addRemove} size=\"small\" icon={<SwapOutlined />} /></div>\r\n                <div style={{ flex:1 }}>\r\n                    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                        {/*                         <div style={{ width: \"50%\" }}>\r\n                            <div><b>{selectedTotais.right.total}</b> Paletes Adicionadas</div>\r\n                            <div style={{ color: qty_encomenda <= selectedTotais.right.vTotalm2 ? \"#389e0d\" : \"#000\" }}><b>{selectedTotais.right.totalm2.toFixed(2)} m&#178;</b></div>\r\n                        </div> */}\r\n                        <div style={{ width: \"50%\" }}>\r\n                            <div>Total Virtual <b>{selectedTotais.right.vTotal}</b> Paletes</div>\r\n                            <div style={{ color: qty_encomenda <= selectedTotais.right.vTotalm2 ? \"#389e0d\" : \"#000\" }}><b>{selectedTotais.right.vTotalm2.toFixed(2)} m&#178;</b></div>\r\n                        </div>\r\n                    </div>\r\n                    <Table\r\n                        columnChooser={false}\r\n                        reload={false}\r\n                        clearSort={false}\r\n                        stripRows\r\n                        darkHeader={false}\r\n                        toolbar={<GlobalSearch form={formRightFilter} formName=\"fpr-filter\" dataAPI={rightDataAPI} />}\r\n                        size=\"small\"\r\n                        selection={{ enabled: true, rowKey: \"id\", onSelection: onSelectionRight, multiple: true, selectedRows: rightSelectedRows, setSelectedRows: setRightSelectedRows }}\r\n                        /* paginationProps={{ pageSizeOptions: [10, 15, 20, 30] }} */\r\n                        dataAPI={rightDataAPI}\r\n                        columns={rightColumns}\r\n                        onFetch={rightDataAPI.fetchPost}\r\n                        scroll={{ y: 465, scrollToFirstRowOnChange: true }}\r\n                    /* style={{ maxHeight: \"465px\", overflowY: \"auto\" }} */\r\n                    //scroll={{ x: '100%', y: \"75vh\", scrollToFirstRowOnChange: true }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default ({ record, setFormTitle, parentRef, closeParent, parentReload, wrapForm = \"form\", forInput = true }) => {\r\n    const { aggItem } = record;\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(true);\r\n    const [changedValues, setChangedValues] = useState({});\r\n    const [formStatus, setFormStatus] = useState({ error: [], warning: [], info: [], success: [] });\r\n    const [guides, setGuides] = useState(false);\r\n    const [operation, setOperation] = useState(setId(aggItem.of_id));\r\n    const [resultMessage, setResultMessage] = useState({ status: \"none\" });\r\n    const leftDataAPI = useDataAPI({ payload: { url: `${API_URL}/paletesstocklookup/`, parameters: {}, pagination: { enabled: true, page: 1, pageSize: 15 }, filter: { item_id: aggItem.item_id }, sort: [] } });\r\n    const rightDataAPI = useDataAPI({ payload: { url: `${API_URL}/paletesstockget/`, parameters: {}, pagination: { enabled: false }, filter: { of_id: aggItem.tempof_id }, sort: [] } });\r\n\r\n\r\n    const init = () => {\r\n        const cancelFetch = cancelToken();\r\n        (async () => {\r\n            (setFormTitle) && setFormTitle({ title: `Paletes em Stock ${aggItem.item_cod}`, subTitle: `${aggItem.cliente_nome}` });\r\n            leftDataAPI.first();\r\n            leftDataAPI.fetchPost({ token: cancelFetch });\r\n            rightDataAPI.first();\r\n            rightDataAPI.fetchPost({ token: cancelFetch });\r\n            setLoading(false);\r\n        })();\r\n    }\r\n\r\n    const columns = {\r\n        ...((common) => (\r\n            {\r\n                nome: { title: \"Palete\", width: 100, render: v => (<div style={{ fontSize: \"12px\", fontWeight: 700 }}>{v}</div>), ...common },\r\n                largura_bobines: { title: \"Larg.\", width: 60, render: v => (<div style={{ fontSize: \"10px\" }}>{v} mm</div>), ...common },\r\n                core_bobines: { title: \"\", width: 20, render: v => (<div style={{ fontSize: \"10px\" }}>{v}''</div>), ...common },\r\n                area: { title: \"Ãrea\", width: 80, render: v => (<div style={{ fontSize: \"10px\" }}>{v} m&#178;</div>), ...common }\r\n                /* comp_total: { title: \"Comp.\", width: 60, render: v => (<div style={{ fontSize: \"10px\" }}>{v} m</div>), ...common } */\r\n            }\r\n        ))({ idx: 1, optional: false, sort: false })\r\n    };\r\n\r\n    const leftColumns = setColumns(\r\n        {\r\n            dataAPI: leftDataAPI,\r\n            data: leftDataAPI.getData().rows,\r\n            uuid: \"leftPaletesStock\",\r\n            include: columns,\r\n            exclude: []\r\n        }\r\n    );\r\n    const rightColumns = setColumns(\r\n        {\r\n            dataAPI: rightDataAPI,\r\n            data: rightDataAPI.getData().rows,\r\n            uuid: \"rightPaletesStock\",\r\n            include: columns,\r\n            exclude: []\r\n        }\r\n    );\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        init(true);\r\n    }, []);\r\n\r\n    const onErrorOK = () => {\r\n        setResultMessage({ status: \"none\" });\r\n    }\r\n\r\n    const onClose = (reload = false) => {\r\n        parentReload({ agg_id: aggItem.id });\r\n        closeParent();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ResultMessage\r\n                result={resultMessage}\r\n                errorButtonOK={<Button type=\"primary\" key=\"goto-ok\" onClick={onErrorOK}>OK</Button>}\r\n                errorButtonClose={<Button key=\"goto-close\" onClick={onClose}>Fechar</Button>}\r\n            >\r\n                <Spin spinning={(leftDataAPI.isLoading() || rightDataAPI.isLoading())} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} tip=\"A carregar...\">\r\n                    {(leftDataAPI.hasData() && rightDataAPI.hasData()) &&\r\n                        <TableTransfer\r\n                            aggItem={aggItem}\r\n                            leftColumns={leftColumns}\r\n                            rightColumns={rightColumns}\r\n                            leftDataAPI={leftDataAPI}\r\n                            rightDataAPI={rightDataAPI}\r\n                            setResultMessage={setResultMessage}\r\n                        />\r\n                    }\r\n                </Spin>\r\n\r\n                {parentRef && <Portal elId={parentRef.current}>\r\n                    <Space>\r\n                        <Button type=\"primary\" onClick={onClose}>Fechar</Button>\r\n{/*                         <Button onClick={() => setGuides(!guides)}>{guides ? \"No Guides\" : \"Guides\"}</Button> */}\r\n                    </Space>\r\n                </Portal>\r\n                }\r\n            </ResultMessage>\r\n        </>\r\n    );\r\n}"],"names":["React","useEffect","useState","useCallback","useRef","useMemo","createUseStyles","styled","dayjs","Joi","fetch","fetchPost","cancelToken","API_URL","getSchema","FormLayout","Field","FieldSet","FieldItem","AlertsContainer","Item","SelectField","CheckboxField","HorizontalRule","VerticalSpace","InputAddon","SelectDebounceField","AlertMessages","ResultMessage","Portal","Toolbar","YScroll","Input","Space","Form","Button","InputNumber","DatePicker","Select","Spin","Transfer","Tag","ButtonGroup","Group","DATE_FORMAT","DATETIME_FORMAT","Table","setColumns","useDataAPI","RightOutlined","LeftOutlined","LoadingOutlined","SwapOutlined","SearchOutlined","schema","keys","excludeKeys","unknown","setId","id","key","values","loadPaletesStockLookup","of_id","url","pagination","enabled","page","pageSize","filter","rows","data","GlobalSearch","form","formName","dataAPI","onValuesChange","changedValues","onFinish","getFilter","item_id","addFilters","getFieldValue","first","width","padding","forInput","wide","margin","overflow","label","pos","wrap","colon","ellipsis","alert","tooltip","container","layout","top","right","center","bottom","left","required","style","alignSelf","TableTransfer","aggItem","leftColumns","rightColumns","leftDataAPI","rightDataAPI","setResultMessage","props","useForm","formLeftFilter","formRightFilter","tempof_id","qty_encomenda","leftSelectedRows","setLeftSelectedRows","rightSelectedRows","setRightSelectedRows","st","stm2","total","totalm2","vTotal","vTotalm2","selectedTotais","setSelectedTotais","isLoading","getData","reduce","a","b","prev","addRemove","parameters","response","status","cancelFetch","token","selection","s","keyValue","value","Array","isArray","length","console","log","parseFloat","area","onSelectionLeft","onSelectionRight","color","toFixed","display","flexDirection","rowKey","onSelection","multiple","selectedRows","setSelectedRows","pageSizeOptions","textAlign","flex","y","scrollToFirstRowOnChange","record","setFormTitle","parentRef","closeParent","parentReload","wrapForm","loading","setLoading","setChangedValues","error","warning","info","success","formStatus","setFormStatus","guides","setGuides","operation","setOperation","resultMessage","payload","sort","init","title","item_cod","subTitle","cliente_nome","columns","common","nome","render","v","fontSize","fontWeight","largura_bobines","core_bobines","idx","optional","uuid","include","exclude","onErrorOK","onClose","reload","agg_id","hasData","current"],"sourceRoot":""}