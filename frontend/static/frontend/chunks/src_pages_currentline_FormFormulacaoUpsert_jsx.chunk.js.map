{"version":3,"file":"chunks/src_pages_currentline_FormFormulacaoUpsert_jsx.chunk.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMkD,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD,EAAOC,WAAP,EAAuB;AAClC,SAAOtC,iEAAS,CAAC;AACbuC,IAAAA,sBAAsB,EAAE5C,iDAAA,GAAY8C,KAAZ,CAAkB,gCAAlB,EAAoDC,GAApD,CAAwD,CAAxD,EAA2DC,QAA3D,EADX;AAEbC,IAAAA,uBAAuB,EAAEjD,iDAAA,GAAY8C,KAAZ,CAAkB,sCAAlB,EAA0DC,GAA1D,CAA8D,CAA9D,EAAiEC,QAAjE,EAFZ;AAGbE,IAAAA,cAAc,EAAElD,kDAAA,GAAa8C,KAAb,CAAmB,eAAnB,EAAoCE,QAApC,EAHH;AAIbI,IAAAA,WAAW,EAAEpD,kDAAA,GAAa8C,KAAb,CAAmB,WAAnB,EAAgCE,QAAhC,EAJA;;AAKb;AACAM,IAAAA,UAAU,EAAEtD,kDAAA,GAAa8C,KAAb,CAAmB,UAAnB,EAA+BE,QAA/B,EANC;AAObO,IAAAA,eAAe,EAAEvD,kDAAA,GAAa8C,KAAb,CAAmB,eAAnB,EAAoCE,QAApC,EAPJ;AAQbQ,IAAAA,YAAY,EAAExD,kDAAA,GAAa8C,KAAb,CAAmB,WAAnB,EAAgCE,QAAhC,EARD;AASbS,IAAAA,WAAW,EAAEzD,kDAAA,GAAa8C,KAAb,CAAmB,UAAnB,EAA+BE,QAA/B;AACb;;AAVa,GAAD,EAWbN,IAXa,EAWPC,WAXO,CAAT,CAWee,OAXf,CAWuB,IAXvB,CAAP;AAYH,CAbD;;AAeA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,EAAD,EAAQ;AAClB,MAAIA,EAAJ,EAAQ;AACJ,WAAO;AAAEC,MAAAA,GAAG,EAAE,QAAP;AAAiBC,MAAAA,MAAM,EAAE;AAAEF,QAAAA,EAAE,EAAFA;AAAF;AAAzB,KAAP;AACH;;AACD,SAAO;AAAEC,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,MAAM,EAAE;AAAzB,GAAP;AACH,CALD;;AAOA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAuD;AAAA,MAA/CC,MAA+C,uEAAtC,EAAsC;AAAA,MAAlCC,MAAkC,uEAAzB,EAAyB;AAAA,MAArBC,WAAqB,uEAAP,EAAO;;AAClE,MAAIH,KAAJ,EAAW;AACP,qBAAUE,MAAV,SAAmBF,KAAnB,SAA2BC,MAA3B;AACH;;AACD,SAAOE,WAAP;AACH,CALD;;AAOA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAmF;AAAA;;AAAA,kCAAhFC,eAAgF;AAAA,MAAhFA,eAAgF,qCAA9D,SAA8D;AAAA,wBAAnDC,KAAmD;AAAA,MAAnDA,KAAmD,2BAA3C,MAA2C;AAAA,yBAAnCC,MAAmC;AAAA,MAAnCA,MAAmC,4BAA1B,mBAA0B;AAC/F,sBACI,kDAAC,4DAAD;AAAU,QAAI,EAAE,EAAhB;AAAoB,UAAM,EAAC,YAA3B;AAAwC,UAAM,EAAE,KAAhD;AACI,SAAK,EAAE;AAAEF,MAAAA,eAAe,YAAKA,eAAL,CAAjB;AAAyCC,MAAAA,KAAK,YAAKA,KAAL,CAA9C;AAA4DE,MAAAA,UAAU,EAAE,GAAxE;AAA6EC,MAAAA,SAAS,EAAE;AAAxF,KADX;AAEI,SAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE,IAAd;AAAoB5B,MAAAA,KAAK,EAAE;AAAE6B,QAAAA,OAAO,EAAE;AAAX;AAA3B;AAFX,kBAII,kDAAC,4DAAD;AAAU,QAAI,EAAE,CAAhB;AAAmB,UAAM,EAAE,KAA3B;AACI,SAAK,EAAE;AACHC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,CADH;AAEHC,MAAAA,KAAK,EAAE;AAAEN,QAAAA,MAAM,EAANA,MAAF;AAAUO,QAAAA,UAAU,EAAE,MAAtB;AAA8BC,QAAAA,SAAS,EAAE,SAAzC;AAAoDC,QAAAA,OAAO,EAAE,MAA7D;AAAqEC,QAAAA,aAAa,EAAE,QAApF;AAA8FC,QAAAA,cAAc,EAAE;AAA9G;AAFJ;AADX,kBAMI,kDAAC,yDAAD;AAAO,SAAK,EAAE;AAAEX,MAAAA,MAAM,EAANA,MAAF;AAAUQ,MAAAA,SAAS,EAAE,SAArB;AAAgCC,MAAAA,OAAO,EAAE,MAAzC;AAAiDC,MAAAA,aAAa,EAAE,QAAhE;AAA0EC,MAAAA,cAAc,EAAE;AAA1F;AAAd,0BANJ,eAOI,kDAAC,yDAAD,oBAPJ,CAJJ,eAaI,kDAAC,4DAAD;AAAU,UAAM,EAAE,KAAlB;AAAyB,QAAI,EAAE;AAA/B,qDAA0C,KAA1C,mDAAwD,UAAxD,kDACW;AAAEL,IAAAA,KAAK,EAAE;AAAEN,MAAAA,MAAM,EAANA,MAAF;AAAUO,MAAAA,UAAU,EAAE;AAAtB;AAAT,GADX,uCAGI,kDAAC,4DAAD;AAAU,SAAK,EAAE;AAAEF,MAAAA,IAAI,EAAE,CAAC,EAAD;AAAR,KAAjB;AAAiC,UAAM,EAAE;AAAzC,kBACI,kDAAC,yDAAD,2CADJ,CAHJ,eAMI,kDAAC,4DAAD;AAAU,UAAM,EAAE,KAAlB;AACI,SAAK,EAAE;AACHA,MAAAA,IAAI,EAAE;AAAC;AAAS,OAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAC;AAAvB,OADH;AAEHC,MAAAA,KAAK,EAAE;AAAEM,QAAAA,QAAQ,EAAE,MAAZ;AAAoBZ,QAAAA,MAAM,EAANA,MAApB;AAA4BO,QAAAA,UAAU,EAAE,MAAxC;AAAgDM,QAAAA,SAAS,EAAE,MAA3D;AAAmEZ,QAAAA,UAAU,EAAE;AAA/E;AAFJ;AADX,kBAOI,kDAAC,yDAAD,aAPJ,eAQI,kDAAC,yDAAD,mBARJ,eASI,kDAAC,yDAAD,wBATJ,eAUI,kDAAC,yDAAD,mBAVJ,eAWI,kDAAC,yDAAD,OAXJ,CANJ,CAbJ,CADJ;AAsCH,CAvCD;;AAyCA,IAAMa,QAAQ,GAAG,SAAXA,QAAW,QAAmF;AAAA,oCAAhFhB,eAAgF;AAAA,MAAhFA,eAAgF,sCAA9D,SAA8D;AAAA,0BAAnDC,KAAmD;AAAA,MAAnDA,KAAmD,4BAA3C,MAA2C;AAAA,2BAAnCC,MAAmC;AAAA,MAAnCA,MAAmC,6BAA1B,mBAA0B;AAChG,sBACI,kDAAC,4DAAD;AAAU,QAAI,EAAE,EAAhB;AAAoB,UAAM,EAAC,YAA3B;AAAwC,UAAM,EAAE,KAAhD;AACI,SAAK,EAAE;AAAEG,MAAAA,UAAU,EAAE,IAAd;AAAoB5B,MAAAA,KAAK,EAAE;AAAE6B,QAAAA,OAAO,EAAE;AAAX;AAA3B,KADX;AAEI,SAAK,EAAE;AAAEQ,MAAAA,QAAQ,EAAE,MAAZ;AAAoBd,MAAAA,eAAe,YAAKA,eAAL,CAAnC;AAA2DC,MAAAA,KAAK,YAAKA,KAAL,CAAhE;AAA8EG,MAAAA,SAAS,EAAE;AAAzF;AAFX,kBAII,kDAAC,4DAAD;AAAU,QAAI,EAAE,CAAhB;AAAmB,UAAM,EAAE,KAA3B;AACI,SAAK,EAAE;AACHG,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,CADH;AAEHC,MAAAA,KAAK,EAAE;AAAEN,QAAAA,MAAM,EAANA,MAAF;AAAUO,QAAAA,UAAU,EAAE;AAAtB;AAFJ;AADX,kBAMI,kDAAC,yDAAD;AAAO,SAAK,EAAE;AAAEP,MAAAA,MAAM,EAANA;AAAF;AAAd,IANJ,eAOI,kDAAC,yDAAD,OAPJ,CAJJ,eAaI,kDAAC,4DAAD;AAAU,UAAM,EAAE,KAAlB;AAAyB,QAAI,EAAE;AAA/B,eAA0C,KAA1C,gBACI,kDAAC,4DAAD;AAAU,UAAM,EAAE,KAAlB;AACI,SAAK,EAAE;AACHK,MAAAA,IAAI,EAAE;AAAC;AAAS,OAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAC;AAAvB,OADH;AAEH9B,MAAAA,KAAK,EAAE;AAAE6B,QAAAA,OAAO,EAAE;AAAX,OAFJ;AAGHE,MAAAA,KAAK,EAAE;AAAEN,QAAAA,MAAM,EAANA,MAAF;AAAUO,QAAAA,UAAU,EAAE;AAAtB;AAHJ;AADX,kBAQI,kDAAC,yDAAD,iBARJ,eASI,kDAAC,yDAAD,mBATJ,eAUI,kDAAC,yDAAD,wBAVJ,eAWI,kDAAC,yDAAD,mBAXJ,eAYI,kDAAC,yDAAD,OAZJ,CADJ,CAbJ,CADJ;AAkCH,CAnCD;;AAqCA,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,QAAmF;AAAA,2BAAhFxB,MAAgF;AAAA,MAAhFA,MAAgF,6BAAvE,EAAuE;AAAA,2BAAnEyB,MAAmE;AAAA,MAAnEA,MAAmE,6BAA1D;AAAEC,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAA0D;AAAA,2BAAxBC,MAAwB;AAAA,MAAxBA,MAAwB,6BAAf,QAAe;;AACrG,8BAA8F5B,MAA9F,CAAQlB,sBAAR;AAAA,MAAgC+C,KAAhC,sCAAwC,EAAxC;AAAA,+BAA8F7B,MAA9F,CAA4Cb,uBAA5C;AAAA,MAAqE2C,MAArE,uCAA8E,EAA9E;AAAA,MAAqFC,IAArF,4BAA8F/B,MAA9F;;AACA,MAAIgC,WAAW,GAAGvD,kEAAlB;AACA,MAAIwD,YAAY,GAAGxD,kEAAnB;AACA,MAAIyD,OAAO,GAAG,CAAd;AACA,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,aAAa,GAAG,CAApB;;AAPqG,6CASlFR,KAAK,CAACS,OAAN,EATkF;AAAA;;AAAA;AASrG,wDAAoC;AAAA;AAAA,UAA1BC,CAA0B;AAAA,UAAvBC,CAAuB;;AAChC,UAAIC,QAAQ,GAAID,CAAC,CAAChD,UAAF,GAAegD,CAAC,CAAChD,UAAjB,GAA8B,CAA9C;AACA,UAAIkD,MAAM,GAAIV,WAAW,GAAGS,QAAf,GAA2B,GAAxC;;AACA,UAAKb,MAAM,KAAK,QAAX,IAAuBH,MAAM,CAACC,SAAP,KAAqB,GAA7C,IAAsDE,MAAM,KAAK,QAAjE,IAA+EA,MAAM,KAAK,QAAX,IAAuBH,MAAM,CAACE,KAAP,KAAiBY,CAAxC,IAA6Cd,MAAM,CAACC,SAAP,KAAqB,GAArJ,EAA2J;AACvJQ,QAAAA,OAAO,IAAIQ,MAAX;AACAN,QAAAA,YAAY,IAAIK,QAAhB;AACH;;AACDD,MAAAA,CAAC,CAACE,MAAF,GAAWA,MAAX;AACH;AAjBoG;AAAA;AAAA;AAAA;AAAA;;AAAA,8CAkBlFZ,MAAM,CAACQ,OAAP,EAlBkF;AAAA;;AAAA;AAkBrG,2DAAqC;AAAA;AAAA,UAA3BC,GAA2B;AAAA,UAAxBC,EAAwB;;AACjC,UAAIC,SAAQ,GAAID,EAAC,CAAC7C,WAAF,GAAgB6C,EAAC,CAAC7C,WAAlB,GAAgC,CAAhD;;AACA,UAAI+C,OAAM,GAAIT,YAAY,GAAGQ,SAAhB,GAA4B,GAAzC;;AACA,UAAKb,MAAM,KAAK,QAAX,IAAuBH,MAAM,CAACC,SAAP,KAAqB,IAA7C,IAAuDE,MAAM,KAAK,QAAlE,IAAgFA,MAAM,KAAK,QAAX,IAAuBH,MAAM,CAACE,KAAP,KAAiBY,GAAxC,IAA6Cd,MAAM,CAACC,SAAP,KAAqB,IAAtJ,EAA6J;AACzJS,QAAAA,QAAQ,IAAIO,OAAZ;AACAL,QAAAA,aAAa,IAAII,SAAjB;AACH;;AACDD,MAAAA,EAAC,CAACE,MAAF,GAAWA,OAAX;AACH;AA1BoG;AAAA;AAAA;AAAA;AAAA;;AA4BrG,MAAId,MAAM,KAAK,QAAf,EAAyB;AACrB,QAAIH,MAAM,CAACC,SAAP,KAAqB,GAAzB,EAA8B;AAC1BG,MAAAA,KAAK,CAACJ,MAAM,CAACE,KAAR,CAAL,CAAoBnC,UAApB,GAAkC,MAAM4C,YAAP,GAAuB,CAAvB,GAA2B,CAA3B,GAAgC,MAAMA,YAAvE;AACAP,MAAAA,KAAK,CAACJ,MAAM,CAACE,KAAR,CAAL,CAAoBe,MAApB,GAA8BV,WAAW,GAAIH,KAAK,CAACJ,MAAM,CAACE,KAAR,CAAL,CAAoBnC,UAApC,GAAmD,GAAhF;AACA0C,MAAAA,OAAO,IAAIL,KAAK,CAACJ,MAAM,CAACE,KAAR,CAAL,CAAoBe,MAA/B;AACH,KAJD,MAIO;AACHZ,MAAAA,MAAM,CAACL,MAAM,CAACE,KAAR,CAAN,CAAqBhC,WAArB,GAAoC,MAAM0C,aAAP,GAAwB,CAAxB,GAA4B,CAA5B,GAAiC,MAAMA,aAA1E;AACAP,MAAAA,MAAM,CAACL,MAAM,CAACE,KAAR,CAAN,CAAqBe,MAArB,GAA+BT,YAAY,GAAIH,MAAM,CAACL,MAAM,CAACE,KAAR,CAAN,CAAqBhC,WAAtC,GAAsD,GAApF;AACAwC,MAAAA,QAAQ,IAAIL,MAAM,CAACL,MAAM,CAACE,KAAR,CAAN,CAAqBe,MAAjC;AACH;AACJ;;AAED,yCAAYX,IAAZ;AAAkBjD,IAAAA,sBAAsB,EAAE+C,KAA1C;AAAiD1C,IAAAA,uBAAuB,EAAE2C,MAA1E;AAAkFa,IAAAA,WAAW,EAAGT,OAAO,GAAGC;AAA1G;AACH,CAzCD;;AA2CA,IAAMS,qBAAqB,GAAG,SAAxBA,qBAAwB,QAA8F;AAAA,MAA3FC,IAA2F,SAA3FA,IAA2F;AAAA,MAArFC,QAAqF,SAArFA,QAAqF;AAAA,MAA3EC,IAA2E,SAA3EA,IAA2E;AAAA,MAArEC,eAAqE,SAArEA,eAAqE;AAAA,wBAApDC,GAAoD;AAAA,MAApDA,GAAoD,0BAA9C,KAA8C;AAAA,2BAAvCxC,MAAuC;AAAA,MAAvCA,MAAuC,6BAA9B,mBAA8B;AAAA,MAATX,EAAS,SAATA,EAAS;;AAExH,MAAM2B,MAAM,GAAG,SAATA,MAAS,CAACyB,GAAD,EAAMxB,SAAN,EAAoB;AAC/B,QAAMyB,WAAW,GAAG3B,aAAa,CAAC;AAAExB,MAAAA,MAAM,EAAE6C,IAAI,CAACO,cAAL,CAAoB,IAApB,CAAV;AAAqC3B,MAAAA,MAAM,EAAE;AAAEC,QAAAA,SAAS,EAATA,SAAF;AAAaC,QAAAA,KAAK,EAAEuB;AAApB,OAA7C;AAAwEtB,MAAAA,MAAM,EAAE;AAAhF,KAAD,CAAjC;AACAiB,IAAAA,IAAI,CAACQ,cAAL,CAAoBF,WAApB;AACH,GAHD;;AAKA,sBACI,kDAAC,kDAAD;AAAW,QAAI,EAAEJ;AAAjB,KACK,UAACO,MAAD,SAAmC;AAAA,QAAxBC,GAAwB,SAAxBA,GAAwB;AAAA,QAAnBC,MAAmB,SAAnBA,MAAmB;AAAA,QAAXC,IAAW,SAAXA,IAAW;;AAEhC,QAAMC,MAAM,GAAG,SAATA,MAAS,CAACJ,MAAD,EAAY;AAAA;;AACvBC,MAAAA,GAAG,wDAAkBzD,EAAlB,GAAyBtB,0DAAzB,uCAA4D,IAA5D,SAAH;AACA;AACH,KAHD;;AAIA,QAAMmF,SAAS,GAAG,SAAZA,SAAY,CAACC,SAAD,EAAYC,KAAZ,EAAsB;AACpCL,MAAAA,MAAM,CAACI,SAAD,CAAN;AACH,KAFD;;AAGA,QAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAOC,EAAP,EAAc;AAC1BP,MAAAA,IAAI,CAACM,IAAD,EAAOC,EAAP,CAAJ;AACH,KAFD;;AAIA,wBACI,sGAEKV,MAAM,CAACW,GAAP,CAAW,UAACJ,KAAD,EAAQlC,KAAR;AAAA;;AAAA,0BAER,kDAAC,4DAAD;AAAU,WAAG,EAAEkC,KAAK,CAAC9D,GAArB;AAA0B,YAAI,EAAE,EAAhC;AAAoC,cAAM,EAAC,YAA3C;AAAwD,cAAM,EAAE,KAAhE;AAAuE,aAAK,EAAE;AAAEf,UAAAA,KAAK,EAAE;AAAE6B,YAAAA,OAAO,EAAE;AAAX;AAAT;AAA9E,sBACI,kDAAC,4DAAD;AAAU,YAAI,EAAE,CAAhB;AAAmB,cAAM,EAAE,KAA3B;AACI,aAAK,EAAE;AACHC,UAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,CADH;AAEHC,UAAAA,KAAK,EAAE;AAAEN,YAAAA,MAAM,EAAE,gBAAV;AAA4BO,YAAAA,UAAU,EAAE,MAAxC;AAAgDN,YAAAA,UAAU,EAAE;AAA5D;AAFJ;AADX,sBAWI,kDAAC,yDAAD;AAAO,YAAI,EAAE,CAACmD,KAAK,CAACd,IAAP,yBAA6BjD,EAA7B;AAAb,sBACI,kDAAC,+DAAD;AAAa,YAAI,EAAC,OAAlB;AAA0B,YAAI,EAAEkD,eAAhC;AAAiD,gBAAQ,EAAC,UAA1D;AAAqE,iBAAS,EAAC,WAA/E;AACI,qBAAa,EAAE,uBAACkB,CAAD,EAAIC,QAAJ,EAAcC,SAAd;AAAA,iBAA6B;AAAEpF,YAAAA,KAAK,YAAKkF,CAAC,CAACE,SAAD,CAAN,CAAP;AAA4BlE,YAAAA,KAAK,EAAEgE,CAAC,CAACC,QAAD;AAApC,WAA7B;AAAA,SADnB;AAEI,kBAAU,MAFd;AAGI,oBAAY,EAAE,sBAACE,KAAD,EAAQC,MAAR;AAAA,iBAAmBA,MAAM,CAACtF,KAAP,CAAauF,WAAb,GAA2BC,OAA3B,CAAmCH,KAAK,CAACE,WAAN,EAAnC,KAA2D,CAA9E;AAAA;AAHlB,QADJ,CAXJ,eAkBI,kDAAC,yDAAD;AAAO,YAAI,EAAE,CAACV,KAAK,CAACd,IAAP,sBAA0BjD,EAA1B;AAAb,sBAA8C,kDAAC,6CAAD;AAAa,gBAAQ,EAAE,KAAvB;AAA8B,YAAI,EAAC,OAAnC;AAA2C,WAAG,EAAE,CAAhD;AAAmD,WAAG,EAAE,EAAxD;AAA4D,iBAAS,EAAE,CAAvE;AAA0E,YAAI,EAAE;AAAhF,QAA9C,CAlBJ,CADJ,eAqBI,kDAAC,4DAAD;AAAU,cAAM,EAAE,KAAlB;AAAyB,YAAI,EAAE;AAA/B,mBAA0C,KAA1C,gBACI,kDAAC,4DAAD;AAAU,cAAM,EAAE,KAAlB;AACI,aAAK,EAAE;AACHgB,UAAAA,IAAI,EAAE;AAAC;AAAS,WAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAC;AAAvB,WADH;AAEH9B,UAAAA,KAAK,EAAE;AAAE6B,YAAAA,OAAO,EAAE;AAAX,WAFJ;AAGHE,UAAAA,KAAK,EAAE;AAAEN,YAAAA,MAAM,EAAE,gBAAV;AAA4BO,YAAAA,UAAU,EAAE,MAAxC;AAAgDM,YAAAA,SAAS,EAAE;AAA3D;AAHJ;AADX,sBAQI,kDAAC,yDAAD,OARJ,eASI,kDAAC,yDAAD;AAAO,YAAI,EAAE,CAACuC,KAAK,CAACd,IAAP,qBAAyBjD,EAAzB;AAAb,sBAA6C,kDAAC,6CAAD;AAAa,YAAI,EAAC,OAAlB;AAA0B,gBAAQ,EAAE;AAApC,SAAgDgD,QAAQ,IAAI;AAAE2B,QAAAA,WAAW,eAAE,kDAAC,8DAAD;AAAY,iBAAO,EAAE;AAAA,mBAAMhD,MAAM,CAACE,KAAD,EAAQ7B,EAAR,CAAZ;AAAA;AAArB,wBAA8C,kDAAC,qDAAD,OAA9C;AAAf,OAA5D;AAAuJ,kBAAU,eAAE,iEAAnK;AAA6K,iBAAS,EAAE,CAAxL;AAA2L,WAAG,EAAE,CAAhM;AAAmM,WAAG,EAAE;AAAxM,SAA7C,CATJ,eAUI,kDAAC,yDAAD;AAAO,YAAI,EAAE,CAAC+D,KAAK,CAACd,IAAP,uBAA2BjD,EAA3B;AAAb,sBAA+C,kDAAC,6CAAD;AAAa,YAAI,EAAC,OAAlB;AAA0B,gBAAQ,EAAE,KAApC;AAA2C,mBAAW,EAAC,MAAvD;AAAkE,kBAAU,eAAE,iEAA9E;AAAwF,iBAAS,EAAE,CAAnG;AAAsG,iBAAS,EAAE,CAAjH;AAAoH,WAAG,EAAE,CAAzH;AAA4H,WAAG,EAAE;AAAjI,QAA/C,CAVJ,eAWI,kDAAC,yDAAD;AAAO,aAAK,EAAE;AAAEa,UAAAA,SAAS,EAAE,QAAb;AAAuBF,UAAAA,MAAM,EAAE,gBAA/B;AAAiDO,UAAAA,UAAU,EAAE,MAA7D;AAAqEM,UAAAA,SAAS,EAAE;AAAhF;AAAd,SAAyGrB,MAAM,wBAAC4C,IAAI,CAAC6B,aAAL,CAAmB,CAAC3B,IAAD,EAAOc,KAAK,CAACd,IAAb,EAAmB,QAAnB,CAAnB,CAAD,wDAAC,oBAAkD4B,OAAlD,CAA0D,CAA1D,CAAD,EAA+D,GAA/D,CAA/G,CAXJ,eAYI,kDAAC,6DAAD;AAAW,aAAK,EAAE;AAAE9D,UAAAA,OAAO,EAAE;AAAX;AAAlB,SAAuCiC,QAAQ,iBAAI,kDAAC,8DAAD;AAAY,eAAO,EAAE;AAAA,iBAAMa,SAAS,CAACE,KAAK,CAACd,IAAP,EAAac,KAAb,CAAf;AAAA,SAArB;AAAyD,aAAK,EAAE;AAAE5C,UAAAA,SAAS,EAAE;AAAb;AAAhE,sBAAyF,kDAAC,qDAAD,OAAzF,CAAnD,CAZJ,CADJ,CArBJ,CAFQ;AAAA,KAAX,CAFL,EA8CMgC,GAAG,IAAIJ,IAAI,CAAC6B,aAAL,CAAmB,aAAnB,IAAoC,CAA5C,iBACG,kDAAC,4DAAD;AAAU,UAAI,EAAE,EAAhB;AAAoB,YAAM,EAAC,YAA3B;AAAwC,YAAM,EAAE,KAAhD;AAAuD,WAAK,EAAE;AAAE1F,QAAAA,KAAK,EAAE;AAAE6B,UAAAA,OAAO,EAAE;AAAX;AAAT;AAA9D,oBACI,kDAAC,4DAAD;AAAU,UAAI,EAAE,CAAhB;AAAmB,YAAM,EAAE;AAA3B,MADJ,eAEI,kDAAC,4DAAD;AAAU,YAAM,EAAE,KAAlB;AAAyB,UAAI,EAAE;AAA/B,iBAA0C,KAA1C,gBACI,kDAAC,4DAAD;AAAU,YAAM,EAAE,KAAlB;AACI,WAAK,EAAE;AACHC,QAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,CADH;AAEH9B,QAAAA,KAAK,EAAE;AAAE6B,UAAAA,OAAO,EAAE;AAAX,SAFJ;AAGHE,QAAAA,KAAK,EAAE;AAAEN,UAAAA,MAAM,EAAE,gBAAV;AAA4BO,UAAAA,UAAU,EAAE,MAAxC;AAAgDM,UAAAA,SAAS,EAAE;AAA3D;AAHJ;AADX,oBAOI,kDAAC,yDAAD,OAPJ,eAQI,kDAAC,yDAAD;AAAO,WAAK,EAAE;AAAEsD,QAAAA,SAAS,EAAE,KAAb;AAAoBjE,QAAAA,SAAS,EAAE,QAA/B;AAAyCD,QAAAA,UAAU,EAAE,GAArD;AAA0DD,QAAAA,MAAM,EAANA;AAA1D;AAAd,OAAmFR,MAAM,CAAC4C,IAAI,CAAC6B,aAAL,CAAmB,aAAnB,EAAkCC,OAAlC,CAA0C,CAA1C,CAAD,EAA+C,GAA/C,CAAzF,CARJ,CADJ,CAFJ,CA/CR,eA+DI,kDAAC,4DAAD,QACK7B,QAAQ,iBAAI,kDAAC,6CAAD;AAAQ,UAAI,EAAC,QAAb;AAAsB,aAAO,EAAE;AAAA,eAAMY,MAAM,CAACJ,MAAD,CAAZ;AAAA,OAA/B;AAAqD,WAAK,EAAE;AAAEuB,QAAAA,KAAK,EAAE;AAAT;AAA5D,oBAA+E,kDAAC,0DAAD,OAA/E,cADjB,CA/DJ,CADJ;AAqEH,GAnFL,CADJ;AAuFH,CA9FD;;AAkGA,IAAMC,wBAAwB;AAAA,sEAAG,iBAAOC,MAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI3I,uDAAS,CAAC;AAAE4I,cAAAA,GAAG,YAAK1I,4CAAL,2BAAL;AAA2C2I,cAAAA,MAAM,EAAE;AAAnD,aAAD,CADb;;AAAA;AAAA;AACbC,YAAAA,IADa,oBACrBC,IADqB,CACbD,IADa;AAAA,6CAEtBA,IAFsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAxBJ,wBAAwB;AAAA;AAAA;AAAA,GAA9B;;AAIA,IAAMM,mBAAmB;AAAA,sEAAG,kBAAOlF,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACS9D,uDAAS,CAAC;AAAE4I,cAAAA,GAAG,YAAK1I,4CAAL,0BAAL;AAA0C+I,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAAtD;AAAqEL,cAAAA,MAAM,sBAAK,iBAAL,aAA6B/E,KAAK,CAACqF,UAAN,CAAiB,GAAjB,EAAsB,IAAtB,CAA7B;AAA3E,aAAD,CADlB;;AAAA;AAAA;AACRL,YAAAA,IADQ,qBAChBC,IADgB,CACRD,IADQ;AAAA,8CAEjBA,IAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAnBE,mBAAmB;AAAA;AAAA;AAAA,GAAzB;;AAKA,IAAMI,sBAAsB;AAAA,sEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,UAAT,SAASA,UAAT,EAAqBC,KAArB,SAAqBA,KAArB;AAAA;AAAA,mBACMtJ,uDAAS,CAAC;AAAE4I,cAAAA,GAAG,YAAK1I,4CAAL,wBAAL;AAAwC2I,cAAAA,MAAM,EAAE;AAAEQ,gBAAAA,UAAU,EAAVA;AAAF,eAAhD;AAAgEE,cAAAA,IAAI,EAAE,EAAtE;AAA0EtJ,cAAAA,WAAW,EAAEqJ;AAAvF,aAAD,CADf;;AAAA;AAAA;AACXR,YAAAA,IADW,qBACnBC,IADmB,CACXD,IADW;AAAA,8CAEpBA,IAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAtBM,sBAAsB;AAAA;AAAA;AAAA,GAA5B;;AAIA,IAAMI,2BAA2B;AAAA,uEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,aAAT,UAASA,aAAT,EAAwBH,KAAxB,UAAwBA,KAAxB;;AAAA,gBAC3BG,aAD2B;AAAA;AAAA;AAAA;;AAAA,8CAErB,EAFqB;;AAAA;AAAA;AAAA,mBAICzJ,uDAAS,CAAC;AAAE4I,cAAAA,GAAG,YAAK1I,4CAAL,kCAAL;AAAkD2I,cAAAA,MAAM,EAAE;AAAEY,gBAAAA,aAAa,EAAbA;AAAF,eAA1D;AAA6EF,cAAAA,IAAI,EAAE,EAAnF;AAAuFtJ,cAAAA,WAAW,EAAEqJ;AAApG,aAAD,CAJV;;AAAA;AAAA;AAIhBR,YAAAA,IAJgB,qBAIxBC,IAJwB,CAIhBD,IAJgB;AAAA,8CAKzBA,IALyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAA3BU,2BAA2B;AAAA;AAAA;AAAA,GAAjC;;AASA,iEAAe,kBAAwG;AAAA,MAArGb,MAAqG,UAArGA,MAAqG;AAAA,MAA7Fe,YAA6F,UAA7FA,YAA6F;AAAA,MAA/EC,SAA+E,UAA/EA,SAA+E;AAAA,MAApEC,WAAoE,UAApEA,WAAoE;AAAA,MAAvDC,YAAuD,UAAvDA,YAAuD;AAAA,+BAAzCC,QAAyC;AAAA,MAAzCA,QAAyC,gCAA9B,MAA8B;AAAA,+BAAtBpD,QAAsB;AAAA,MAAtBA,QAAsB,gCAAX,IAAW;;AACnH,sBAAelF,qDAAA,EAAf;AAAA;AAAA,MAAOiF,IAAP;;AACA,kBAA8BlH,gDAAQ,CAAC,IAAD,CAAtC;AAAA;AAAA,MAAOyK,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA0C1K,gDAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAO2K,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAkC5K,gDAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAO6K,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAoC9K,gDAAQ,CAAC;AAAE+K,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,OAAO,EAAE,EAAtB;AAA0BC,IAAAA,IAAI,EAAE,EAAhC;AAAoCC,IAAAA,OAAO,EAAE;AAA7C,GAAD,CAA5C;AAAA;AAAA,MAAOC,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA4BpL,gDAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAOqL,MAAP;AAAA,MAAeC,SAAf;;AACA,oBAAkCtL,gDAAQ,CAACkE,KAAK,CAACkF,MAAM,CAACmC,UAAP,CAAkBpH,EAAnB,CAAN,CAA1C;AAAA;AAAA,MAAOqH,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAA0CzL,gDAAQ,CAAC;AAAE0L,IAAAA,MAAM,EAAE;AAAV,GAAD,CAAlD;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAA8C5L,gDAAQ,CAAC,EAAD,CAAtD;AAAA;AAAA,MAAOqH,eAAP;AAAA,MAAwBwE,kBAAxB;;AACA,oBAAsC7L,gDAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAO8L,WAAP;AAAA,MAAoBC,cAApB;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,SAA2B;AAAA;;AAAA,QAAxBC,KAAwB,UAAxBA,KAAwB;AAAA,QAAjBV,UAAiB,UAAjBA,UAAiB;AAC7C,QAAIpI,sBAAsB,GAAG8I,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAE3C,MAAP,CAAc,UAAAzC,CAAC;AAAA,aAAKA,CAAC,CAACd,SAAF,KAAgB,GAArB;AAAA,KAAf,EAA0CuC,GAA1C,CAA8C,UAAAzB,CAAC;AAAA,aAAK;AAAEE,QAAAA,MAAM,EAAEF,CAAC,CAACqF,OAAZ;AAAqBzI,QAAAA,cAAc,EAAEoD,CAAC,CAACsF,YAAvC;AAAqDxI,QAAAA,WAAW,EAAEkD,CAAC,CAACuF,SAApE;AAA+EvI,QAAAA,UAAU,EAAEgD,CAAC,CAACC,QAA7F;AAAuGuF,QAAAA,YAAY,EAAExF,CAAC,CAACyF,UAAvH;AAAmIC,QAAAA,UAAU,EAAE;AAA/I,OAAL;AAAA,KAA/C,CAA7B;AACA,QAAI/I,uBAAuB,GAAGyI,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAE3C,MAAP,CAAc,UAAAzC,CAAC;AAAA,aAAKA,CAAC,CAACd,SAAF,KAAgB,IAArB;AAAA,KAAf,EAA2CuC,GAA3C,CAA+C,UAAAzB,CAAC;AAAA,aAAK;AAAEE,QAAAA,MAAM,EAAEF,CAAC,CAACqF,OAAZ;AAAqBpI,QAAAA,eAAe,EAAE+C,CAAC,CAACsF,YAAxC;AAAsDpI,QAAAA,YAAY,EAAE8C,CAAC,CAACuF,SAAtE;AAAiFpI,QAAAA,WAAW,EAAE6C,CAAC,CAACC,QAAhG;AAA0G0F,QAAAA,aAAa,EAAE3F,CAAC,CAACyF,UAA3H;AAAuIC,QAAAA,UAAU,EAAE;AAAnJ,OAAL;AAAA,KAAhD,CAA9B;AACA,QAAME,WAAW,GAAG;AAAErI,MAAAA,GAAG,wBAAEgF,MAAM,CAACmC,UAAT,uDAAE,mBAAmBkB,WAA1B;AAAuClI,MAAAA,KAAK,EAAEgH,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAEkB,WAA1D;AAAuEpJ,MAAAA,KAAK,EAAEkI,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAEmB;AAA1F,KAApB;AACA,2CAAYnB,UAAZ;AAAwBkB,MAAAA,WAAW,EAAXA,WAAxB;AAAqCtJ,MAAAA,sBAAsB,EAAtBA,sBAArC;AAA6DK,MAAAA,uBAAuB,EAAvBA,uBAA7D;AAAsFwD,MAAAA,WAAW,EAAE;AAAnG;AACH,GALD;;AAOA,MAAM2F,IAAI,GAAG,SAAPA,IAAO,GAA2B;AAAA,QAA1BC,MAA0B,uEAAjB,KAAiB;AAAA,QAAV7C,KAAU;;AACpC,4DAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBACO6C,MADP;AAAA;AAAA;AAAA;;AAAA,6BAEOf,kBAFP;AAAA;AAAA,qBAEgC1C,wBAAwB,CAACC,MAAD,CAFxD;;AAAA;AAAA;AAAA;;AAAA;AAAA,oBAIOoC,SAAS,CAACpH,GAAV,KAAkB,QAJzB;AAAA;AAAA;AAAA;;AAAA,oCAKqCgF,MAAM,CAACmC,UAL5C,EAKeU,KALf,uBAKeA,KALf,EAKsBnC,UALtB,uBAKsBA,UALtB;AAMQK,cAAAA,YAAD,IAAkBA,YAAY,CAAC;AAAE0C,gBAAAA,KAAK;AAAP,eAAD,CAA9B;AANP,6BAOOd,cAPP;AAAA;AAAA,qBAO4BlC,sBAAsB,CAAC;AAAEC,gBAAAA,UAAU,EAAVA,UAAF;AAAcC,gBAAAA,KAAK,EAALA;AAAd,eAAD,CAPlD;;AAAA;AAAA;AAAA;AAQO7C,cAAAA,IAAI,CAACQ,cAAL,CAAoBsE,aAAa,CAAC;AAAEC,gBAAAA,KAAK,EAALA,KAAF;AAASV,gBAAAA,UAAU,EAAEnC,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEmC;AAA7B,eAAD,CAAjC;;AARP;AAUGb,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAYH,GAbD;;AAeA3K,EAAAA,iDAAS,CAAC,YAAM;AACZ,QAAM+M,WAAW,GAAGpM,yDAAW,EAA/B;AACAiM,IAAAA,IAAI,CAAC,IAAD,EAAOG,WAAP,CAAJ;AACA,WAAQ;AAAA,aAAMA,WAAW,CAACC,MAAZ,CAAmB,2BAAnB,CAAN;AAAA,KAAR;AACH,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMC,cAAc;AAAA,yEAAG,kBAAOrC,aAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6CAAwBxH,sBAAxB,EAAgD8J,IAAhD,sCAAuD,EAAvD,0DAA2DzJ,uBAA3D,EAAoF0J,KAApF,uCAA4F,EAA5F,2BAAmGC,SAAnG;;AAAA,oBACf,QAAQxC,aADO;AAAA;AAAA;AAAA;;AAETY,cAAAA,UAFS,GAEIO,WAAW,CAACsB,IAAZ,CAAiB,UAAAvG,CAAC;AAAA,uBAAIA,CAAC,CAAC1C,EAAF,KAASwG,aAAa,CAACxG,EAA3B;AAAA,eAAlB,CAFJ;AAAA;AAAA,qBAGK8F,2BAA2B,CAAC;AAAEC,gBAAAA,aAAa,EAAES,aAAa,CAACxG;AAA/B,eAAD,CAHhC;;AAAA;AAGT8H,cAAAA,KAHS;AAIf/E,cAAAA,IAAI,CAACQ,cAAL,CAAoBsE,aAAa,CAAC;AAAEC,gBAAAA,KAAK,EAALA,KAAF;AAASV,gBAAAA,UAAU,EAAEA;AAArB,eAAD,CAAjC;AAJe;AAAA;;AAAA;AAMTpI,cAAAA,sBANS,GAMgB8J,IAAI,CAAC3D,MAAL,CAAY,UAAAzC,CAAC;AAAA,uBAAIA,CAAC,CAAC0F,UAAF,KAAiB,IAArB;AAAA,eAAb,CANhB;AAOT/I,cAAAA,uBAPS,GAOiB0J,KAAK,CAAC5D,MAAN,CAAa,UAAAzC,CAAC;AAAA,uBAAIA,CAAC,CAAC0F,UAAF,KAAiB,IAArB;AAAA,eAAd,CAPjB;AAQT/E,cAAAA,WARS,GAQK3B,aAAa,CAAC;AAAExB,gBAAAA,MAAM,kCAAO8I,SAAP;AAAkBhK,kBAAAA,sBAAsB,EAAtBA,sBAAlB;AAA0CK,kBAAAA,uBAAuB,EAAvBA;AAA1C,kBAAR;AAA6EyC,gBAAAA,MAAM,EAAE;AAArF,eAAD,CARlB;AASfiB,cAAAA,IAAI,CAACQ,cAAL,CAAoBF,WAApB;;AATe;AAWnBsD,cAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,cAAAA,gBAAgB,CAACD,aAAD,CAAhB;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdqC,cAAc;AAAA;AAAA;AAAA,KAApB;;AAeA,MAAMK,QAAQ;AAAA,yEAAG,kBAAOhJ,MAAP;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBACRwG,SADQ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAIPoB,cAAAA,KAJO,GAIC,EAJD;AAKPP,cAAAA,MALO,GAKE;AAAEX,gBAAAA,KAAK,EAAE,EAAT;AAAaC,gBAAAA,OAAO,EAAE,EAAtB;AAA0BC,gBAAAA,IAAI,EAAE,EAAhC;AAAoCC,gBAAAA,OAAO,EAAE;AAA7C,eALF;AAMPoC,cAAAA,OANO,GAMG,CAAC,wBAAD,EAA2B,yBAA3B,CANH;AAOPzG,cAAAA,CAPO,GAOH7D,MAAM,CAAC,KAAD,EAAQ,CAAC,gBAAD,EAAmB,aAAnB,EAAkC,YAAlC,EAAgD,iBAAhD,EAAmE,cAAnE,EAAmF,aAAnF,CAAR,CAAN,CAAiHuK,QAAjH,CAA0HlJ,MAA1H,EAAkI;AAAEmJ,gBAAAA,UAAU,EAAE;AAAd,eAAlI,CAPG;AAQb9B,cAAAA,MAAM,CAACX,KAAP,gCAAmBW,MAAM,CAACX,KAA1B,sBAAqClE,CAAC,CAACkE,KAAF,eAAUlE,CAAC,CAACkE,KAAZ,6CAAU,SAAS0C,OAAT,CAAiBnE,MAAjB,CAAwB,UAACzC,CAAD;AAAA,uBAAOyG,OAAO,CAACI,QAAR,CAAiB7G,CAAC,CAAC8G,OAAF,CAAUvJ,GAA3B,CAAP;AAAA,eAAxB,CAAV,GAA4E,EAAjH;AACAsH,cAAAA,MAAM,CAACV,OAAP,gCAAqBU,MAAM,CAACV,OAA5B,sBAAyCnE,CAAC,CAACmE,OAAF,iBAAYnE,CAAC,CAACmE,OAAd,+CAAY,WAAWyC,OAAX,CAAmBnE,MAAnB,CAA0B,UAACzC,CAAD;AAAA,uBAAOyG,OAAO,CAACI,QAAR,CAAiB7G,CAAC,CAAC8G,OAAF,CAAUvJ,GAA3B,CAAP;AAAA,eAA1B,CAAZ,GAAgF,EAAzH;;AAEA,kBAAI,CAACyC,CAAC,CAACkE,KAAP,EAAc;AACVvD,gBAAAA,WAAW,GAAG3B,aAAa,CAAC;AAAExB,kBAAAA,MAAM,EAANA,MAAF;AAAU4B,kBAAAA,MAAM,EAAE;AAAlB,iBAAD,CAA3B;AAEI2H,gBAAAA,IAHM,GAGCpG,WAAW,CAACrE,sBAAZ,CAAmC0K,MAAnC,CAA0C,UAACC,CAAD,EAAIC,CAAJ;AAAA,yBAAUD,CAAC,IAAIC,CAAC,CAAC,YAAD,CAAD,IAAmB,CAAvB,CAAX;AAAA,iBAA1C,EAAgF,CAAhF,CAHD;AAINC,gBAAAA,KAJM,GAIExG,WAAW,CAAChE,uBAAZ,CAAoCqK,MAApC,CAA2C,UAACC,CAAD,EAAIC,CAAJ;AAAA,yBAAUD,CAAC,IAAIC,CAAC,CAAC,aAAD,CAAD,IAAoB,CAAxB,CAAX;AAAA,iBAA3C,EAAkF,CAAlF,CAJF;;AAMV,oBAAIE,IAAI,CAACC,KAAL,CAAW1G,WAAW,CAACR,WAAvB,MAAwC,GAA5C,EAAiD;AAC7C0E,kBAAAA,MAAM,CAACX,KAAP,CAAaoD,IAAb,CAAkB;AAAEC,oBAAAA,OAAO,EAAE;AAAX,mBAAlB;AACH,iBAFD,MAEO,IAAIR,IAAI,KAAK,GAAb,EAAkB;AACrBlC,kBAAAA,MAAM,CAACX,KAAP,CAAaoD,IAAb,CAAkB;AAAEC,oBAAAA,OAAO,EAAE;AAAX,mBAAlB;AACH,iBAFM,MAGF,IAAIJ,KAAK,KAAK,GAAd,EAAmB;AACpBtC,kBAAAA,MAAM,CAACX,KAAP,CAAaoD,IAAb,CAAkB;AAAEC,oBAAAA,OAAO,EAAE;AAAX,mBAAlB;AACH;AACJ;;AAzBY,oBA2BT1C,MAAM,CAACX,KAAP,CAAasD,MAAb,KAAwB,CAAxB,IAA6B7G,WA3BpB;AAAA;AAAA;AAAA;;AAAA,sEA4BKA,WA5BL,iDA4BK,aAAarE,sBA5BlB;;AAAA;AAAA;AAAA;;AAAA,sBA4BA0D,CA5BA;AA6BL,sBAAIyH,YAAY,4BAAGjH,eAAe,CAAC+F,IAAhB,CAAqB,UAAAmB,GAAG;AAAA,2BAAIA,GAAG,CAACC,QAAJ,KAAiB3H,CAAC,CAACpD,cAAvB;AAAA,mBAAxB,CAAH,0DAAG,sBAAgEgL,SAAnF;AACAxC,kBAAAA,KAAK,CAACkC,IAAN,CAAW;AACP7B,oBAAAA,UAAU,EAAEzF,CAAC,CAACwF,YADP;AACqBvF,oBAAAA,QAAQ,EAAED,CAAC,CAAChD,UADjC;AAC6CqI,oBAAAA,OAAO,EAAErF,CAAC,CAACE,MADxD;AAEPqF,oBAAAA,SAAS,EAAEvF,CAAC,CAAClD,WAFN;AAEmBoC,oBAAAA,SAAS,EAAE,GAF9B;AAEmCoG,oBAAAA,YAAY,EAAEtF,CAAC,CAACpD,cAFnD;AAGP6K,oBAAAA,YAAY,EAAZA;AAHO,mBAAX;AA9BK;;AA4BT,uEAAmD;AAAA;AAOlD;AAnCQ;AAAA;AAAA;AAAA;AAAA;;AAAA,uEAoCK9G,WApCL,kDAoCK,cAAahE,uBApClB;;AAAA;AAAA;AAAA;;AAAA,sBAoCAqD,CApCA;AAqCL,sBAAIyH,YAAY,6BAAGjH,eAAe,CAAC+F,IAAhB,CAAqB,UAAAmB,GAAG;AAAA,2BAAIA,GAAG,CAACC,QAAJ,KAAiB3H,CAAC,CAAC/C,eAAvB;AAAA,mBAAxB,CAAH,2DAAG,uBAAiE2K,SAApF;AACAxC,kBAAAA,KAAK,CAACkC,IAAN,CAAW;AACP7B,oBAAAA,UAAU,EAAEzF,CAAC,CAAC2F,aADP;AACsB1F,oBAAAA,QAAQ,EAAED,CAAC,CAAC7C,WADlC;AAC+CkI,oBAAAA,OAAO,EAAErF,CAAC,CAACE,MAD1D;AAEPqF,oBAAAA,SAAS,EAAEvF,CAAC,CAAC9C,YAFN;AAEoBgC,oBAAAA,SAAS,EAAE,IAF/B;AAEqCoG,oBAAAA,YAAY,EAAEtF,CAAC,CAAC/C,eAFrD;AAGPwK,oBAAAA,YAAY,EAAZA;AAHO,mBAAX;AAtCK;;AAoCT,uEAAoD;AAAA;AAOnD;AA3CQ;AAAA;AAAA;AAAA;AAAA;;AAAA,oCA4CiEjK,MA5CjE,CA4CDoI,WA5CC;AA4CT,qEAAmE,EAAnE;AAA8BA,cAAAA,WA5CrB,uBA4CclI,KA5Cd,EA4CyCmI,YA5CzC,uBA4CkCrJ,KA5ClC;AAAA;AAAA,qBA6Cc5C,uDAAS,CAAC;AAAE4I,gBAAAA,GAAG,YAAK1I,4CAAL,4BAAL;AAA4C2I,gBAAAA,MAAM,EAAE;AAAEoF,kBAAAA,IAAI,EAAEtF,MAAM,CAACjF;AAAf,iBAApD;AAAyEwK,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,IAAI,EAAE,YAAR;AAAsBrD,kBAAAA,UAAU,kCAAOlH,MAAP;AAAe4H,oBAAAA,KAAK,EAALA,KAAf;AAAsBnC,oBAAAA,UAAU,EAAEV,MAAM,CAACmC,UAAP,CAAkBzB,UAApD;AAAgE2C,oBAAAA,WAAW,EAAXA,WAAhE;AAA6EC,oBAAAA,YAAY,EAAZA;AAA7E;AAAhC;AAArF,eAAD,CA7CvB;;AAAA;AA6CHmC,cAAAA,QA7CG;AA8CTjD,cAAAA,gBAAgB,CAACiD,QAAQ,CAACrF,IAAV,CAAhB;;AA9CS,oBA+CLqF,QAAQ,CAACrF,IAAT,CAAckC,MAAd,KAAyB,OA/CpB;AAAA;AAAA;AAAA;;AAAA,oBAgDC,oBAhDD;;AAAA;AAoDbN,cAAAA,aAAa,CAACM,MAAD,CAAb;;AApDa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAR2B,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAuDA,MAAMyB,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,QAAItD,SAAS,CAACpH,GAAV,KAAkB,QAAtB,EAAgC;AAC5B8C,MAAAA,IAAI,CAAC6H,WAAL;AACApC,MAAAA,IAAI;AACJf,MAAAA,gBAAgB,CAAC;AAAEF,QAAAA,MAAM,EAAE;AAAV,OAAD,CAAhB;AACH;AACJ,GAND;;AAQA,MAAMsD,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBpD,IAAAA,gBAAgB,CAAC;AAAEF,MAAAA,MAAM,EAAE;AAAV,KAAD,CAAhB;AACH,GAFD;;AAIA,MAAMuD,OAAO,GAAG,SAAVA,OAAU,GAAoB;AAAA,QAAnBC,MAAmB,uEAAV,KAAU;AAChC7E,IAAAA,WAAW;AACd,GAFD;;AAIA,sBACI,mHACI,kDAAC,iEAAD;AACI,UAAM,EAAEsB,aADZ;AAEI,mBAAe,EAAEH,SAAS,CAACpH,GAAV,KAAkB,QAAlB,iBAA8B,kDAAC,6CAAD;AAAQ,UAAI,EAAC,SAAb;AAAuB,SAAG,EAAC,SAA3B;AAAqC,aAAO,EAAE0K;AAA9C,qCAFnD;AAGI,sBAAkB,eAAE,kDAAC,6CAAD;AAAQ,SAAG,EAAC,YAAZ;AAAyB,aAAO,EAAE;AAAA,eAAMG,OAAO,CAAC,IAAD,CAAb;AAAA;AAAlC,gBAHxB;AAII,iBAAa,eAAE,kDAAC,6CAAD;AAAQ,UAAI,EAAC,SAAb;AAAuB,SAAG,EAAC,SAA3B;AAAqC,aAAO,EAAED;AAA9C,YAJnB;AAKI,oBAAgB,eAAE,kDAAC,6CAAD;AAAQ,SAAG,EAAC,YAAZ;AAAyB,aAAO,EAAEC;AAAlC;AALtB,kBAOI,kDAAC,mEAAD;AAAiB,MAAE,EAAC;AAApB,IAPJ,eAQI,kDAAC,iEAAD;AAAe,cAAU,EAAE9D;AAA3B,IARJ,eASI,kDAAC,6CAAD;AAAM,QAAI,EAAEjE,IAAZ;AAAkB,QAAI,OAAtB;AAA+B,YAAQ,EAAEmG,QAAzC;AAAmD,kBAAc,EAAEL,cAAnE;AAAmF,aAAS,EAAEzC;AAA9F,kBACI,kDAAC,8DAAD;AACI,MAAE,EAAC,uBADP;AAEI,UAAM,EAAEc,MAFZ;AAGI,UAAM,EAAC,UAHX;AAII,SAAK,EAAE;AAAEnC,MAAAA,KAAK,EAAE,MAAT;AAAiBiG,MAAAA,OAAO,EAAE,KAA1B;AAAiCC,MAAAA,MAAM,EAAE;AAAM;;AAA/C,KAJX;AAKI,UAAM,EAAEpM,MALZ;AAMI,SAAK,EAAE;AACHmE,MAAAA,QAAQ,EAARA,QADG;AAEHhC,MAAAA,IAAI,EAAE,CAAC,EAAD,CAFH;AAGHkK,MAAAA,MAAM,EAAE,KAHL;AAGYC,MAAAA,QAAQ,EAAE,KAHtB;AAG6BjE,MAAAA,MAAM,EAAEA,MAHrC;AAIHhI,MAAAA,KAAK,EAAE;AAAE6B,QAAAA,OAAO,EAAE,IAAX;AAAiBqK,QAAAA,GAAG,EAAE,KAAtB;AAA6BC,QAAAA,KAAK,EAAE,OAApC;AAA6CC,QAAAA,MAAM,EAAE,QAArD;;AAA+D;AAAqBC,QAAAA,IAAI,EAAE,KAA1F;AAAiGJ,QAAAA,QAAQ,EAAE,KAA3G;AAAkHK,QAAAA,KAAK,EAAE,IAAzH;AAA+HC,QAAAA,QAAQ,EAAE;AAAzI,OAJJ;AAKHC,MAAAA,KAAK,EAAE;AAAEN,QAAAA,GAAG,EAAE,OAAP;AAAgBO,QAAAA,OAAO,EAAE,IAAzB;AAA+BC,QAAAA,SAAS,EAAE;AAAM;;AAAhD,OALJ;AAMHC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,GAAG,EAAE,EAAP;AAAWC,QAAAA,KAAK,EAAE,EAAlB;AAAsBC,QAAAA,MAAM,EAAE,EAA9B;AAAkCC,QAAAA,MAAM,EAAE,EAA1C;AAA8CC,QAAAA,IAAI,EAAE;AAApD,OANL;AAOH9M,MAAAA,QAAQ,EAAE,IAPP;AAQH6B,MAAAA,KAAK,EAAE;AAAEE,QAAAA,SAAS,EAAE;AAAb;AARJ,KANX;AAgBI,YAAQ,EAAE;AACN+F,MAAAA,MAAM,EAAEA,MADF;AAENlG,MAAAA,IAAI,EAAE,EAFA;AAEIkK,MAAAA,MAAM,EAAE,KAFZ;AAEmBW,MAAAA,MAAM,EAAE,YAF3B;AAEyCV,MAAAA,QAAQ,EAAE;AAFnD;AAhBd,KAqBKnI,QAAQ,iBAAI,mHACT,kDAAC,4DAAD,qBACI,kDAAC,2DAAD;AACI,SAAK,EAAE;AAAE+B,MAAAA,KAAK,EAAE;AAAT,KADX;AAEI,QAAI,eACA,kDAAC,4DAAD,qBACI,kDAAC,yDAAD;AAAO,UAAI,EAAC,IAAZ;AAAiB,YAAM,EAAE;AAAEiH,QAAAA,MAAM,EAAE,oBAAV;AAAgCD,QAAAA,KAAK,EAAE;AAAvC,OAAzB;AAAwF,WAAK,EAAE;AAAEhL,QAAAA,OAAO,EAAE,KAAX;AAAkBoL,QAAAA,IAAI,EAAE,YAAxB;AAAsCf,QAAAA,GAAG,EAAE;AAA3C;AAA/F,oBACI,kDAAC,+DAAD;AAAa,UAAI,EAAC,OAAlB;AAA0B,UAAI,EAAEzD,WAAhC;AAA6C,cAAQ,EAAC,IAAtD;AAA2D,eAAS,EAAC,YAArE;AACI,mBAAa,EAAE,uBAACvD,CAAD,EAAIC,QAAJ,EAAcC,SAAd;AAAA,eAA6B;AAAEpF,UAAAA,KAAK,eAAE;AAAK,iBAAK,EAAE;AAAEkC,cAAAA,OAAO,EAAE;AAAX;AAAZ,0BAAiC;AAAK,iBAAK,EAAE;AAAEgL,cAAAA,QAAQ,EAAE;AAAZ;AAAZ,0BAAmC,6DAAIhI,CAAC,CAACE,SAAD,CAAL,CAAnC,CAAjC,eAA+F,qEAAQF,CAAC,CAAC,QAAD,CAAT,CAA/F,CAAT;AAA0IhE,UAAAA,KAAK,EAAEgE,CAAC,CAACC,QAAD;AAAlJ,SAA7B;AAAA;AADnB,MADJ,CADJ,CAHR;AAWI,SAAK,eAAE;AAAK,WAAK,EAAE;AAAEjD,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,aAAa,EAAE;AAAlC;AAAZ,oBACH,kDAAC,4DAAD;AAAU,WAAK,EAAE;AAAE+K,QAAAA,QAAQ,EAAE;AAAZ,OAAjB;AAAwC,YAAM,EAAE,KAAhD;AAAuD,WAAK,EAAE;AAAEpL,QAAAA,IAAI,EAAE,CAAC,EAAD;AAAR;AAA9D,oBACI,kDAAC,yDAAD;AAAO,UAAI,EAAC,aAAZ;AAA0B,cAAQ,EAAE,KAApC;AAA2C,YAAM,EAAE;AAAEgL,QAAAA,MAAM,EAAE,oBAAV;AAAgCD,QAAAA,KAAK,EAAE;AAAvC,OAAnD;AAAkH,WAAK,EAAE;AAAEhL,QAAAA,OAAO,EAAE,KAAX;AAAkBoL,QAAAA,IAAI,EAAE,SAAxB;AAAmCf,QAAAA,GAAG,EAAE;AAAxC;AAAzH,oBACI,kDAAC,uEAAD;AACI,iBAAW,EAAC,SADhB;AAEI,UAAI,EAAC,OAFT;AAGI,cAAQ,EAAC,UAHb;AAII,eAAS,EAAC,UAJd;AAKI,gBAAU,MALd;AAMI,eAAS,MANb;AAOI,gBAAU,MAPd;AAQI,kBAAY,EAAE9F;AARlB,MADJ,CADJ,CADG;AAXX,IADJ,CADS,CArBjB,EAsDK,CAACtC,QAAD,iBAAa,mHACV,kDAAC,4DAAD;AAAU,UAAM,EAAE,KAAlB;AAAyB,SAAK,EAAE;AAAEhC,MAAAA,IAAI,EAAE,CAAC,EAAD;AAAR;AAAhC,kBACI,kDAAC,yDAAD;AAAO,QAAI,EAAC,aAAZ;AAA0B,YAAQ,EAAE,KAApC;AAA2C,UAAM,EAAE;AAAEgL,MAAAA,MAAM,EAAE,oBAAV;AAAgCD,MAAAA,KAAK,EAAE;AAAvC,KAAnD;AAAkH,SAAK,EAAE;AAAEhL,MAAAA,OAAO,EAAE,KAAX;AAAkBoL,MAAAA,IAAI,EAAE,SAAxB;AAAmCf,MAAAA,GAAG,EAAE;AAAxC;AAAzH,kBACI,kDAAC,uEAAD;AACI,eAAW,EAAC,SADhB;AAEI,QAAI,EAAC,OAFT;AAGI,YAAQ,EAAC,UAHb;AAII,aAAS,EAAC,UAJd;AAKI,cAAU,MALd;AAMI,aAAS,MANb;AAOI,cAAU,MAPd;AAQI,gBAAY,EAAE9F;AARlB,IADJ,CADJ,CADU,eAeV,kDAAC,iEAAD;AAAe,UAAM,EAAC;AAAtB,IAfU,CAtDlB,EAyEKtC,QAAQ,iBAAI,mHAAE,kDAAC,4DAAD;AAAU,QAAI,EAAE,EAAhB;AAAoB,UAAM,EAAE;AAA5B,kBACX,kDAAC,4DAAD;AAAU,QAAI,EAAE;AAAhB,IADW,eAEX,kDAAC,4DAAD;AAAU,QAAI,EAAE,EAAhB;AAAoB,UAAM,EAAE,KAA5B;AAAmC,UAAM,EAAC,UAA1C;AAAqD,SAAK,EAAE;AAAEqJ,MAAAA,KAAK,EAAE,CAAT;AAAYrL,MAAAA,IAAI,EAAEsL;AAAlB;AAA5D,kBACI,kDAAC,4DAAD;AAAU,UAAM,EAAE;AAAlB,kBACI,kDAAC,yDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,SAAK,EAAE;AAAEvL,MAAAA,OAAO,EAAE;AAAX;AAA3B,kBAA+C,kDAAC,6CAAD;AAAO,YAAQ,EAAE,IAAjB;AAAuB,QAAI,EAAC;AAA5B,IAA/C,CADJ,eAEI,kDAAC,yDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA3B,kBAA+C,kDAAC,6CAAD;AAAO,YAAQ,EAAE,IAAjB;AAAuB,QAAI,EAAC;AAA5B,IAA/C,CAFJ,eAGI,kDAAC,yDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA3B,kBAA+C,kDAAC,6CAAD;AAAO,YAAQ,EAAE,IAAjB;AAAuB,QAAI,EAAC;AAA5B,IAA/C,CAHJ,eAII,kDAAC,yDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA3B,kBAA+C,kDAAC,6CAAD;AAAO,YAAQ,EAAE,IAAjB;AAAuB,QAAI,EAAC;AAA5B,IAA/C,CAJJ,eAKI,kDAAC,yDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA3B,kBAA+C,kDAAC,6CAAD;AAAO,YAAQ,EAAE,IAAjB;AAAuB,QAAI,EAAC;AAA5B,IAA/C,CALJ,CADJ,eAQI,kDAAC,4DAAD;AAAU,UAAM,EAAE;AAAlB,kBACI,kDAAC,yDAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA/B,kBAAmD,kDAAC,6CAAD;AAAa,YAAQ,EAAE,IAAvB;AAA6B,QAAI,EAAC,OAAlC;AAA0C,cAAU,eAAE,iEAAtD;AAAgE,aAAS,EAAE;AAA3E,IAAnD,CADJ,eAEI,kDAAC,yDAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA/B,kBAAmD,kDAAC,6CAAD;AAAa,YAAQ,EAAE,IAAvB;AAA6B,QAAI,EAAC,OAAlC;AAA0C,cAAU,eAAE,iEAAtD;AAAgE,aAAS,EAAE;AAA3E,IAAnD,CAFJ,eAGI,kDAAC,yDAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA/B,kBAAmD,kDAAC,6CAAD;AAAa,YAAQ,EAAE,IAAvB;AAA6B,QAAI,EAAC,OAAlC;AAA0C,cAAU,eAAE,iEAAtD;AAAgE,aAAS,EAAE;AAA3E,IAAnD,CAHJ,eAII,kDAAC,yDAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA/B,kBAAmD,kDAAC,6CAAD;AAAa,YAAQ,EAAE,IAAvB;AAA6B,QAAI,EAAC,OAAlC;AAA0C,cAAU,eAAE,iEAAtD;AAAgE,aAAS,EAAE;AAA3E,IAAnD,CAJJ,eAKI,kDAAC,yDAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,SAAK,EAAE;AAAEA,MAAAA,OAAO,EAAE;AAAX;AAA/B,kBAAmD,kDAAC,6CAAD;AAAa,YAAQ,EAAE,IAAvB;AAA6B,QAAI,EAAC,OAAlC;AAA0C,cAAU,eAAE,iEAAtD;AAAgE,aAAS,EAAE;AAA3E,IAAnD,CALJ,CARJ,CAFW,eAkBX,kDAAC,4DAAD;AAAU,QAAI,EAAE;AAAhB,IAlBW,CAAF,eAoBT,kDAAC,iEAAD;AAAe,UAAM,EAAC;AAAtB,IApBS,CAzEjB,eAgGI,kDAAC,OAAD,OAhGJ,eAiGI,kDAAC,qBAAD;AAAuB,QAAI,EAAEgC,IAA7B;AAAmC,QAAI,EAAC,wBAAxC;AAAiE,YAAQ,EAAEC,QAA3E;AAAqF,mBAAe,EAAEE,eAAtG;AAAuH,MAAE,EAAC;AAA1H,IAjGJ,eAkGI,kDAAC,QAAD,OAlGJ,eAmGI,kDAAC,qBAAD;AAAuB,QAAI,EAAEH,IAA7B;AAAmC,QAAI,EAAC,yBAAxC;AAAkE,YAAQ,EAAEC,QAA5E;AAAsF,mBAAe,EAAEE,eAAvG;AAAwH,OAAG,EAAE,IAA7H;AAAmI,MAAE,EAAC;AAAtI,IAnGJ,CADJ,CATJ,EAgHK+C,SAAS,iBAAI,kDAAC,0DAAD;AAAQ,QAAI,EAAEA,SAAS,CAACsG;AAAxB,kBACV,kDAAC,6CAAD,QACK7F,SAAS,iBAAI,kDAAC,6CAAD;AAAQ,QAAI,EAAC,SAAb;AAAuB,WAAO,EAAE;AAAA,aAAMwC,QAAQ,CAACnG,IAAI,CAACO,cAAL,CAAoB,IAApB,CAAD,CAAd;AAAA;AAAhC,eADlB,eAEI,kDAAC,6CAAD;AAAQ,WAAO,EAAEwH;AAAjB,cAFJ,CADU,CAhHlB,CADJ,CADJ;AA4HH,CA1PD","sources":["webpack://sgp/./src/pages/currentline/FormFormulacaoUpsert.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef, useContext } from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport styled from 'styled-components';\r\nimport dayjs from 'dayjs';\r\nimport Joi from 'joi';\r\nimport { fetch, fetchPost, cancelToken } from \"utils/fetch\";\r\nimport { API_URL } from \"config\";\r\nimport { getSchema } from \"utils/schemaValidator\";\r\nimport { FormLayout, Field, FieldSet, FieldItem, AlertsContainer, Item, SelectField, CheckboxField, HorizontalRule, VerticalSpace, InputAddon, SelectDebounceField } from \"components/formLayout\";\r\nimport AlertMessages from \"components/alertMessages\";\r\nimport IconButton from \"components/iconButton\";\r\nimport YScroll from \"components/YScroll\";\r\nimport ResultMessage from 'components/resultMessage';\r\nimport Portal from \"components/portal\";\r\nimport Toolbar from \"components/toolbar\";\r\nimport { Input, Space, Form, Button, InputNumber, DatePicker } from \"antd\";\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { MdAdjust, MdAssignmentReturned } from 'react-icons/md';\r\nimport { CgCloseO } from 'react-icons/cg';\r\nimport { DATE_FORMAT, DATETIME_FORMAT, FORMULACAO_EXTRUSORAS_COD, FORMULACAO_EXTRUSORAS_VAL, FORMULACAO_TOLERANCIA, FORMULACAO_PONDERACAO_EXTR, FORMULACAO_MANGUEIRAS } from 'config';\r\n\r\nconst schema = (keys, excludeKeys) => {\r\n    return getSchema({\r\n        formu_materiasprimas_A: Joi.array().label(\"Matérias Primas da Extrusora A\").min(1).required(),\r\n        formu_materiasprimas_BC: Joi.array().label(\"Matérias Primas das Extrusoras B & C\").min(1).required(),\r\n        matprima_cod_A: Joi.string().label(\"Matéria Prima\").required(),\r\n        densidade_A: Joi.number().label(\"Densidade\").required(),\r\n        /* mangueira_A: Joi.string().label(\"Mangueira Extrusora A\").required(), */\r\n        arranque_A: Joi.number().label(\"Arranque\").required(),\r\n        matprima_cod_BC: Joi.string().label(\"Matéria Prima\").required(),\r\n        densidade_BC: Joi.number().label(\"Densidade\").required(),\r\n        arranque_BC: Joi.number().label(\"Arranque\").required()\r\n        /*  mangueira_BC: Joi.string().label(\"Mangueira Extrusora BC\").required() */\r\n    }, keys, excludeKeys).unknown(true);\r\n}\r\n\r\nconst setId = (id) => {\r\n    if (id) {\r\n        return { key: \"update\", values: { id } };\r\n    }\r\n    return { key: \"insert\", values: {} };\r\n}\r\n\r\nconst append = (value, suffix = '', prefix = '', onUndefined = '') => {\r\n    if (value) {\r\n        return `${prefix}${value}${suffix}`;\r\n    }\r\n    return onUndefined;\r\n}\r\n\r\nconst HeaderA = ({ backgroundColor = \"#f5f5f5\", color = \"#000\", border = \"solid 1px #d9d9d9\" }) => {\r\n    return (\r\n        <FieldSet wide={16} layout=\"horizontal\" margin={false}\r\n            style={{ backgroundColor: `${backgroundColor}`, color: `${color}`, fontWeight: 500, textAlign: \"center\" }}\r\n            field={{ noItemWrap: true, label: { enabled: false } }}\r\n        >\r\n            <FieldSet wide={7} margin={false}\r\n                field={{\r\n                    wide: [13, 3],\r\n                    style: { border, borderLeft: \"none\", alignSelf: \"stretch\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }\r\n                }}\r\n            >\r\n                <Field style={{ border, alignSelf: \"stretch\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }} >Matérias Primas</Field>\r\n                <Field >Densidade</Field>\r\n            </FieldSet>\r\n            <FieldSet margin={false} wide={9} margin={false} layout=\"vertical\"\r\n                field={{ style: { border, borderLeft: \"none\" } }}\r\n            >\r\n                <FieldSet field={{ wide: [16] }} margin={false}>\r\n                    <Field>Distribuição por Extrusora</Field>\r\n                </FieldSet>\r\n                <FieldSet margin={false}\r\n                    field={{\r\n                        wide: [/* 3,  */4, 4, 4, 3, 1/* , 2, 3 */],\r\n                        style: { fontSize: \"10px\", border, borderLeft: \"none\", borderTop: \"none\", fontWeight: 400 }\r\n                    }}\r\n                >\r\n                    {/* <Field>Doseador</Field> */}\r\n                    <Field>%A</Field>\r\n                    <Field>Arranque</Field>\r\n                    <Field>Tolerância</Field>\r\n                    <Field>% Global</Field>\r\n                    <Field></Field>\r\n                    {/* <Field>Checklist</Field>\r\n                    <Field>Data/Hora</Field> */}\r\n                </FieldSet>\r\n            </FieldSet>\r\n        </FieldSet>\r\n    );\r\n}\r\n\r\nconst HeaderBC = ({ backgroundColor = \"#f5f5f5\", color = \"#000\", border = \"solid 1px #d9d9d9\" }) => {\r\n    return (\r\n        <FieldSet wide={16} layout=\"horizontal\" margin={false}\r\n            field={{ noItemWrap: true, label: { enabled: false } }}\r\n            style={{ fontSize: \"10px\", backgroundColor: `${backgroundColor}`, color: `${color}`, textAlign: \"center\" }}\r\n        >\r\n            <FieldSet wide={7} margin={false}\r\n                field={{\r\n                    wide: [13, 3],\r\n                    style: { border, borderLeft: \"none\" }\r\n                }}\r\n            >\r\n                <Field style={{ border }}></Field>\r\n                <Field></Field>\r\n            </FieldSet>\r\n            <FieldSet margin={false} wide={9} margin={false}>\r\n                <FieldSet margin={false}\r\n                    field={{\r\n                        wide: [/* 3,  */4, 4, 4, 3, 1/*  2, 3 */],\r\n                        label: { enabled: false },\r\n                        style: { border, borderLeft: \"none\" }\r\n                    }}\r\n                >\r\n                    {/* <Field>Doseador</Field> */}\r\n                    <Field>%B e C</Field>\r\n                    <Field>Arranque</Field>\r\n                    <Field>Tolerância</Field>\r\n                    <Field>% Global</Field>\r\n                    <Field></Field>\r\n                    {/* <Field>Checklist</Field>\r\n                    <Field>Data/Hora</Field> */}\r\n                </FieldSet>\r\n            </FieldSet>\r\n        </FieldSet>\r\n    );\r\n}\r\n\r\nconst updateGlobals = ({ values = {}, adjust = { extrusora: null, index: null }, action = \"adjust\" }) => {\r\n    const { formu_materiasprimas_A: listA = [], formu_materiasprimas_BC: listBC = [], ...rest } = values;\r\n    let ponderacaoA = FORMULACAO_PONDERACAO_EXTR[0];\r\n    let ponderacaoBC = FORMULACAO_PONDERACAO_EXTR[1];\r\n    let globalA = 0;\r\n    let globalBC = 0;\r\n    let sumArranqueA = 0;\r\n    let sumArranqueBC = 0;\r\n\r\n    for (let [i, v] of listA.entries()) {\r\n        let arranque = (v.arranque_A ? v.arranque_A : 0);\r\n        let global = (ponderacaoA * arranque) / 100;\r\n        if ((action === \"adjust\" && adjust.extrusora !== 'A') || (action !== 'adjust') || (action === \"adjust\" && adjust.index !== i && adjust.extrusora === 'A')) {\r\n            globalA += global;\r\n            sumArranqueA += arranque;\r\n        }\r\n        v.global = global;\r\n    }\r\n    for (let [i, v] of listBC.entries()) {\r\n        let arranque = (v.arranque_BC ? v.arranque_BC : 0);\r\n        let global = (ponderacaoBC * arranque) / 100;\r\n        if ((action === \"adjust\" && adjust.extrusora !== 'BC') || (action !== 'adjust') || (action === \"adjust\" && adjust.index !== i && adjust.extrusora === 'BC')) {\r\n            globalBC += global;\r\n            sumArranqueBC += arranque;\r\n        }\r\n        v.global = global;\r\n    }\r\n\r\n    if (action === \"adjust\") {\r\n        if (adjust.extrusora === 'A') {\r\n            listA[adjust.index].arranque_A = (100 - sumArranqueA) < 0 ? 0 : (100 - sumArranqueA);\r\n            listA[adjust.index].global = (ponderacaoA * (listA[adjust.index].arranque_A)) / 100;\r\n            globalA += listA[adjust.index].global;\r\n        } else {\r\n            listBC[adjust.index].arranque_BC = (100 - sumArranqueBC) < 0 ? 0 : (100 - sumArranqueBC);\r\n            listBC[adjust.index].global = (ponderacaoBC * (listBC[adjust.index].arranque_BC)) / 100;\r\n            globalBC += listBC[adjust.index].global;\r\n        }\r\n    }\r\n\r\n    return { ...rest, formu_materiasprimas_A: listA, formu_materiasprimas_BC: listBC, totalGlobal: (globalA + globalBC) };\r\n}\r\n\r\nconst SubFormMateriasPrimas = ({ form, forInput, name, matPrimasLookup, sum = false, border = \"solid 1px #d9d9d9\", id }) => {\r\n\r\n    const adjust = (idx, extrusora) => {\r\n        const fieldValues = updateGlobals({ values: form.getFieldsValue(true), adjust: { extrusora, index: idx }, action: \"adjust\" });\r\n        form.setFieldsValue(fieldValues);\r\n    }\r\n\r\n    return (\r\n        <Form.List name={name}>\r\n            {(fields, { add, remove, move }) => {\r\n\r\n                const addRow = (fields) => {\r\n                    add({ [`tolerancia_${id}`]: FORMULACAO_TOLERANCIA, removeCtrl: true });\r\n                    /* add({ item_id: 1, item_paletesize: '970x970', item_numbobines: 10 }, 0); */\r\n                }\r\n                const removeRow = (fieldName, field) => {\r\n                    remove(fieldName);\r\n                }\r\n                const moveRow = (from, to) => {\r\n                    move(from, to);\r\n                }\r\n\r\n                return (\r\n                    <>\r\n\r\n                        {fields.map((field, index) => (\r\n\r\n                            <FieldSet key={field.key} wide={16} layout=\"horizontal\" margin={false} field={{ label: { enabled: false } }}>\r\n                                <FieldSet wide={7} margin={false}\r\n                                    field={{\r\n                                        wide: [13, 3],\r\n                                        style: { border: \"solid 1px #fff\", borderLeft: \"none\", fontWeight: \"10px\" }\r\n                                    }}\r\n                                >\r\n                                    {/*                                     <Field name={[field.name, `mangueira_${id}`]}>\r\n                                        <SelectField size=\"small\" data={FORMULACAO_MANGUEIRAS[id]} keyField=\"key\" textField=\"key\"\r\n                                            optionsRender={(d, keyField, textField) => ({ label: `${d[textField]}`, value: d[keyField] })}\r\n                                        />\r\n                                    </Field> */}\r\n                                    <Field name={[field.name, `matprima_cod_${id}`]}>\r\n                                        <SelectField size=\"small\" data={matPrimasLookup} keyField=\"ITMREF_0\" textField=\"ITMDES1_0\"\r\n                                            optionsRender={(d, keyField, textField) => ({ label: `${d[textField]}`, value: d[keyField] })}\r\n                                            showSearch\r\n                                            filterOption={(input, option) => option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                                        />\r\n                                    </Field>\r\n                                    <Field name={[field.name, `densidade_${id}`]}><InputNumber controls={false} size=\"small\" min={0} max={50} precision={3} step={.025} /></Field>\r\n                                </FieldSet>\r\n                                <FieldSet margin={false} wide={9} margin={false}>\r\n                                    <FieldSet margin={false}\r\n                                        field={{\r\n                                            wide: [/* 3,  */4, 4, 4, 3, 1/* , 2, 3 */],\r\n                                            label: { enabled: false },\r\n                                            style: { border: \"solid 1px #fff\", borderLeft: \"none\", borderTop: \"none\" }\r\n                                        }}\r\n                                    >\r\n                                        {/* <Field name={[field.name, \"doseador\"]}><Input size=\"small\" /></Field> */}\r\n                                        <Field></Field>\r\n                                        <Field name={[field.name, `arranque_${id}`]}><InputNumber size=\"small\" controls={false} {...(forInput && { addonBefore: <IconButton onClick={() => adjust(index, id)}><MdAdjust /></IconButton> })} addonAfter={<b>%</b>} precision={2} min={0} max={100} /></Field>\r\n                                        <Field name={[field.name, `tolerancia_${id}`]}><InputNumber size=\"small\" controls={false} addonBefore=\"&plusmn;\" addonAfter={<b>%</b>} maxLength={4} precision={1} min={0} max={100} /></Field>\r\n                                        <Field style={{ textAlign: \"center\", border: \"solid 1px #fff\", borderLeft: \"none\", borderTop: \"none\" }}>{append(form.getFieldValue([name, field.name, \"global\"])?.toFixed(2), '%')}{/* <InputNumber size=\"small\" addonAfter={<b>%</b>} maxLength={4} min={0} max={100} /> */}</Field>\r\n                                        <FieldItem label={{ enabled: false }}>{forInput && <IconButton onClick={() => removeRow(field.name, field)} style={{ alignSelf: \"center\" }}><CgCloseO /></IconButton>}</FieldItem>\r\n                                        {/*<Field name={[field.name, \"checklist\"]}><CheckboxField /></Field>\r\n                                        <Field name={[field.name, \"check_datetime\"]}><DatePicker /></Field> */}\r\n                                    </FieldSet>\r\n                                </FieldSet>\r\n                            </FieldSet>\r\n\r\n                        ))}\r\n                        {(sum && form.getFieldValue(\"totalGlobal\") > 0) &&\r\n                            <FieldSet wide={16} layout=\"horizontal\" margin={false} field={{ label: { enabled: false } }}>\r\n                                <FieldSet wide={7} margin={false} />\r\n                                <FieldSet margin={false} wide={9} margin={false}>\r\n                                    <FieldSet margin={false}\r\n                                        field={{\r\n                                            wide: [12, 4],\r\n                                            label: { enabled: false },\r\n                                            style: { border: \"solid 1px #fff\", borderLeft: \"none\", borderTop: \"none\" }\r\n                                        }}\r\n                                    >\r\n                                        <Field></Field>\r\n                                        <Field style={{ marginTop: \"4px\", textAlign: \"center\", fontWeight: 500, border }}>{append(form.getFieldValue(\"totalGlobal\").toFixed(2), '%')}</Field>\r\n                                    </FieldSet>\r\n                                </FieldSet>\r\n                            </FieldSet>\r\n                        }\r\n                        <FieldSet>\r\n                            {forInput && <Button type=\"dashed\" onClick={() => addRow(fields)} style={{ width: \"100%\" }}><PlusOutlined />Adicionar</Button>}\r\n                        </FieldSet>\r\n                    </>\r\n                );\r\n            }}\r\n        </Form.List>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst LoadMateriasPrimasLookup = async (record) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/materiasprimaslookup/`, filter: {} });\r\n    return rows;\r\n}\r\nconst loadCustomersLookup = async (value) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/sellcustomerslookup/`, pagination: { limit: 10 }, filter: { [\"fmulti_customer\"]: `%${value.replaceAll(' ', '%%')}%` } });\r\n    return rows;\r\n}\r\n\r\nconst loadFormulacaoesLookup = async ({ produto_id, token }) => {\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/formulacoeslookup/`, filter: { produto_id }, sort: [], cancelToken: token });\r\n    return rows;\r\n}\r\nconst getFormulacaoMateriasPrimas = async ({ formulacao_id, token }) => {\r\n    if (!formulacao_id) {\r\n        return [];\r\n    }\r\n    const { data: { rows } } = await fetchPost({ url: `${API_URL}/formulacaomateriasprimasget/`, filter: { formulacao_id }, sort: [], cancelToken: token });\r\n    return rows;\r\n}\r\n\r\n\r\nexport default ({ record, setFormTitle, parentRef, closeParent, parentReload, wrapForm = \"form\", forInput = true }) => {\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(true);\r\n    const [changedValues, setChangedValues] = useState({});\r\n    const [isTouched, setIsTouched] = useState(false);\r\n    const [formStatus, setFormStatus] = useState({ error: [], warning: [], info: [], success: [] });\r\n    const [guides, setGuides] = useState(false);\r\n    const [operation, setOperation] = useState(setId(record.formulacao.id));\r\n    const [resultMessage, setResultMessage] = useState({ status: \"none\" });\r\n    const [matPrimasLookup, setMatPrimasLookup] = useState([]);\r\n    const [formulacoes, setFormulacoes] = useState([]);\r\n\r\n    const transformData = ({ items, formulacao }) => {\r\n        let formu_materiasprimas_A = items?.filter(v => (v.extrusora === 'A')).map(v => ({ global: v.vglobal, matprima_cod_A: v.matprima_cod, densidade_A: v.densidade, arranque_A: v.arranque, tolerancia_A: v.tolerancia, removeCtrl: true }));\r\n        let formu_materiasprimas_BC = items?.filter(v => (v.extrusora === 'BC')).map(v => ({ global: v.vglobal, matprima_cod_BC: v.matprima_cod, densidade_BC: v.densidade, arranque_BC: v.arranque, tolerancia_BC: v.tolerancia, removeCtrl: true }));\r\n        const cliente_cod = { key: record.formulacao?.cliente_cod, value: formulacao?.cliente_cod, label: formulacao?.cliente_nome };\r\n        return { ...formulacao, cliente_cod, formu_materiasprimas_A, formu_materiasprimas_BC, totalGlobal: 100 };\r\n    }\r\n\r\n    const init = (lookup = false, token) => {\r\n        (async () => {\r\n            if (lookup) {\r\n                setMatPrimasLookup(await LoadMateriasPrimasLookup(record));\r\n            }\r\n            if (operation.key === \"update\") {\r\n                const { items, produto_id } = record.formulacao;\r\n                (setFormTitle) && setFormTitle({ title: `Formulação` });\r\n                setFormulacoes(await loadFormulacaoesLookup({ produto_id, token }));\r\n                form.setFieldsValue(transformData({ items, formulacao: record?.formulacao }));\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const cancelFetch = cancelToken();\r\n        init(true, cancelFetch);\r\n        return (() => cancelFetch.cancel(\"Form Formulação Cancelled\"));\r\n    }, []);\r\n\r\n    const onValuesChange = async (changedValues, { formu_materiasprimas_A: allA = [], formu_materiasprimas_BC: allBC = [], ...allValues }) => {\r\n        if ('id' in changedValues) {\r\n            const formulacao = formulacoes.find(v => v.id === changedValues.id);\r\n            const items = await getFormulacaoMateriasPrimas({ formulacao_id: changedValues.id });\r\n            form.setFieldsValue(transformData({ items, formulacao: formulacao }));\r\n        } else {\r\n            const formu_materiasprimas_A = allA.filter(v => v.removeCtrl === true);\r\n            const formu_materiasprimas_BC = allBC.filter(v => v.removeCtrl === true);\r\n            const fieldValues = updateGlobals({ values: { ...allValues, formu_materiasprimas_A, formu_materiasprimas_BC }, action: \"valueschange\" });\r\n            form.setFieldsValue(fieldValues);\r\n        }\r\n        setIsTouched(true);\r\n        setChangedValues(changedValues);\r\n    }\r\n\r\n    const onFinish = async (values) => {\r\n        if (!isTouched) {\r\n            return;\r\n        }\r\n        const items = [];\r\n        const status = { error: [], warning: [], info: [], success: [] };\r\n        const msgKeys = [\"formu_materiasprimas_A\", \"formu_materiasprimas_BC\"];\r\n        const v = schema(false, ['matprima_cod_A', 'densidade_A', 'arranque_A', 'matprima_cod_BC', 'densidade_BC', 'arranque_BC']).validate(values, { abortEarly: false });\r\n        status.error = [...status.error, ...(v.error ? v.error?.details.filter((v) => msgKeys.includes(v.context.key)) : [])];\r\n        status.warning = [...status.warning, ...(v.warning ? v.warning?.details.filter((v) => msgKeys.includes(v.context.key)) : [])];\r\n        let fieldValues;\r\n        if (!v.error) {\r\n            fieldValues = updateGlobals({ values, action: \"finish\" });\r\n\r\n            let sumA = fieldValues.formu_materiasprimas_A.reduce((a, b) => a + (b[\"arranque_A\"] || 0), 0);\r\n            let sumBC = fieldValues.formu_materiasprimas_BC.reduce((a, b) => a + (b[\"arranque_BC\"] || 0), 0);\r\n\r\n            if (Math.round(fieldValues.totalGlobal) !== 100) {\r\n                status.error.push({ message: \"O Total Global das Matérias Primas tem de ser 100%!\" });\r\n            } else if (sumA !== 100) {\r\n                status.error.push({ message: \"O Total das Matérias Primas da Extrusora A tem de ser 100%!\" });\r\n            }\r\n            else if (sumBC !== 100) {\r\n                status.error.push({ message: \"O Total das Matérias Primas das Extrusoras B&C tem de ser 100%!\" });\r\n            }\r\n        }\r\n\r\n        if (status.error.length === 0 && fieldValues) {\r\n            for (let v of fieldValues?.formu_materiasprimas_A) {\r\n                let matprima_des = matPrimasLookup.find(val => val.ITMREF_0 === v.matprima_cod_A)?.ITMDES1_0;\r\n                items.push({\r\n                    tolerancia: v.tolerancia_A, arranque: v.arranque_A, vglobal: v.global,\r\n                    densidade: v.densidade_A, extrusora: 'A', matprima_cod: v.matprima_cod_A,\r\n                    matprima_des\r\n                });\r\n            }\r\n            for (let v of fieldValues?.formu_materiasprimas_BC) {\r\n                let matprima_des = matPrimasLookup.find(val => val.ITMREF_0 === v.matprima_cod_BC)?.ITMDES1_0;\r\n                items.push({\r\n                    tolerancia: v.tolerancia_BC, arranque: v.arranque_BC, vglobal: v.global,\r\n                    densidade: v.densidade_BC, extrusora: 'BC', matprima_cod: v.matprima_cod_BC,\r\n                    matprima_des\r\n                });\r\n            }\r\n            const { cliente_cod: { value: cliente_cod, label: cliente_nome } = {} } = values;\r\n            const response = await fetchPost({ url: `${API_URL}/updatecurrentsettings/`, filter: { csid: record.id }, parameters: { type: 'formulacao', formulacao: { ...values, items, produto_id: record.formulacao.produto_id, cliente_cod, cliente_nome } } });\r\n            setResultMessage(response.data);\r\n            if (response.data.status !== \"error\") {\r\n                throw 'TODO RELOAD PARENT'\r\n                //parentReload({ formulacao_id: record.formulacao.id }, \"init\");\r\n            }\r\n        }\r\n        setFormStatus(status);\r\n    }\r\n\r\n    const onSuccessOK = () => {\r\n        if (operation.key === \"insert\") {\r\n            form.resetFields();\r\n            init();\r\n            setResultMessage({ status: \"none\" });\r\n        }\r\n    }\r\n\r\n    const onErrorOK = () => {\r\n        setResultMessage({ status: \"none\" });\r\n    }\r\n\r\n    const onClose = (reload = false) => {\r\n        closeParent();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ResultMessage\r\n                result={resultMessage}\r\n                successButtonOK={operation.key === \"insert\" && <Button type=\"primary\" key=\"goto-of\" onClick={onSuccessOK}>Criar Nova Formulação</Button>}\r\n                successButtonClose={<Button key=\"goto-close\" onClick={() => onClose(true)}>Fechar</Button>}\r\n                errorButtonOK={<Button type=\"primary\" key=\"goto-ok\" onClick={onErrorOK}>OK</Button>}\r\n                errorButtonClose={<Button key=\"goto-close\" onClick={onClose}>Fechar</Button>}\r\n            >\r\n                <AlertsContainer id=\"el-external\" />\r\n                <AlertMessages formStatus={formStatus} />\r\n                <Form form={form} name={`fps`} onFinish={onFinish} onValuesChange={onValuesChange} component={wrapForm}>\r\n                    <FormLayout\r\n                        id=\"LAY-FORMULACAO-UPSERT\"\r\n                        guides={guides}\r\n                        layout=\"vertical\"\r\n                        style={{ width: \"100%\", padding: \"0px\", height: \"65vh\"/* , minWidth: \"700px\" */ }}\r\n                        schema={schema}\r\n                        field={{\r\n                            forInput,\r\n                            wide: [16],\r\n                            margin: \"2px\", overflow: false, guides: guides,\r\n                            label: { enabled: true, pos: \"top\", align: \"start\", vAlign: \"center\", /* width: \"80px\", */ wrap: false, overflow: false, colon: true, ellipsis: true },\r\n                            alert: { pos: \"right\", tooltip: true, container: false /* container: \"el-external\" */ },\r\n                            layout: { top: \"\", right: \"\", center: \"\", bottom: \"\", left: \"\" },\r\n                            required: true,\r\n                            style: { alignSelf: \"top\" }\r\n                        }}\r\n                        fieldSet={{\r\n                            guides: guides,\r\n                            wide: 16, margin: \"2px\", layout: \"horizontal\", overflow: false\r\n                        }}\r\n                    >\r\n                        {forInput && <>\r\n                            <FieldSet>\r\n                                <Toolbar\r\n                                    style={{ width: \"100%\" }}\r\n                                    left={\r\n                                        <FieldSet>\r\n                                            <Field name=\"id\" layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Formulacao\", pos: \"left\" }}>\r\n                                                <SelectField size=\"small\" data={formulacoes} keyField=\"id\" textField=\"designacao\"\r\n                                                    optionsRender={(d, keyField, textField) => ({ label: <div style={{ display: \"flex\" }}><div style={{ minWidth: \"150px\" }}><b>{d[textField]}</b></div><div>v.{d[\"versao\"]}</div></div>, value: d[keyField] })}\r\n                                                />\r\n                                            </Field>\r\n                                        </FieldSet>\r\n                                    }\r\n                                    right={<div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                        <FieldSet style={{ minWidth: \"300px\" }} margin={false} field={{ wide: [16] }}>\r\n                                            <Field name=\"cliente_cod\" required={false} layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Cliente\", pos: \"left\" }}>\r\n                                                <SelectDebounceField\r\n                                                    placeholder=\"Cliente\"\r\n                                                    size=\"small\"\r\n                                                    keyField=\"BPCNUM_0\"\r\n                                                    textField=\"BPCNAM_0\"\r\n                                                    showSearch\r\n                                                    showArrow\r\n                                                    allowClear\r\n                                                    fetchOptions={loadCustomersLookup}\r\n                                                />\r\n                                            </Field>\r\n                                        </FieldSet>\r\n                                    </div>}\r\n                                />\r\n                            </FieldSet>\r\n                        </>\r\n                        }\r\n                        {!forInput && <>\r\n                            <FieldSet margin={false} field={{ wide: [16] }}>\r\n                                <Field name=\"cliente_cod\" required={false} layout={{ center: \"align-self:center;\", right: \"align-self:center;\" }} label={{ enabled: false, text: \"Cliente\", pos: \"left\" }}>\r\n                                    <SelectDebounceField\r\n                                        placeholder=\"Cliente\"\r\n                                        size=\"small\"\r\n                                        keyField=\"BPCNUM_0\"\r\n                                        textField=\"BPCNAM_0\"\r\n                                        showSearch\r\n                                        showArrow\r\n                                        allowClear\r\n                                        fetchOptions={loadCustomersLookup}\r\n                                    />\r\n                                </Field>\r\n                            </FieldSet>\r\n                            <VerticalSpace height=\"6px\" />\r\n                        </>\r\n                        }\r\n\r\n                        {forInput && <><FieldSet wide={16} margin={false}>\r\n                            <FieldSet wide={3} />\r\n                            <FieldSet wide={10} margin={false} layout=\"vertical\" field={{ split: 5, wide: undefined }}>\r\n                                <FieldSet margin={false}>\r\n                                    <Field name=\"extr0\" label={{ enabled: false }}><Input disabled={true} size=\"small\" /></Field>\r\n                                    <Field name=\"extr1\" label={{ enabled: false }}><Input disabled={true} size=\"small\" /></Field>\r\n                                    <Field name=\"extr2\" label={{ enabled: false }}><Input disabled={true} size=\"small\" /></Field>\r\n                                    <Field name=\"extr3\" label={{ enabled: false }}><Input disabled={true} size=\"small\" /></Field>\r\n                                    <Field name=\"extr4\" label={{ enabled: false }}><Input disabled={true} size=\"small\" /></Field>\r\n                                </FieldSet>\r\n                                <FieldSet margin={false}>\r\n                                    <Field name=\"extr0_val\" label={{ enabled: false }}><InputNumber disabled={true} size=\"small\" addonAfter={<b>%</b>} maxLength={4} /></Field>\r\n                                    <Field name=\"extr1_val\" label={{ enabled: false }}><InputNumber disabled={true} size=\"small\" addonAfter={<b>%</b>} maxLength={4} /></Field>\r\n                                    <Field name=\"extr2_val\" label={{ enabled: false }}><InputNumber disabled={true} size=\"small\" addonAfter={<b>%</b>} maxLength={4} /></Field>\r\n                                    <Field name=\"extr3_val\" label={{ enabled: false }}><InputNumber disabled={true} size=\"small\" addonAfter={<b>%</b>} maxLength={4} /></Field>\r\n                                    <Field name=\"extr4_val\" label={{ enabled: false }}><InputNumber disabled={true} size=\"small\" addonAfter={<b>%</b>} maxLength={4} /></Field>\r\n                                </FieldSet>\r\n                            </FieldSet>\r\n                            <FieldSet wide={3} />\r\n                        </FieldSet>\r\n                            <VerticalSpace height=\"12px\" />\r\n                        </>}\r\n\r\n                        <HeaderA />\r\n                        <SubFormMateriasPrimas form={form} name=\"formu_materiasprimas_A\" forInput={forInput} matPrimasLookup={matPrimasLookup} id=\"A\" />\r\n                        <HeaderBC />\r\n                        <SubFormMateriasPrimas form={form} name=\"formu_materiasprimas_BC\" forInput={forInput} matPrimasLookup={matPrimasLookup} sum={true} id=\"BC\" />\r\n                    </FormLayout>\r\n                </Form>\r\n                {parentRef && <Portal elId={parentRef.current}>\r\n                    <Space>\r\n                        {isTouched && <Button type=\"primary\" onClick={() => onFinish(form.getFieldsValue(true))}>Guardar</Button>}\r\n                        <Button onClick={onClose}>Fechar</Button>\r\n                    </Space>\r\n                </Portal>\r\n                }\r\n            </ResultMessage>\r\n        </>\r\n    );\r\n}"],"names":["React","useEffect","useState","useCallback","useRef","useContext","createUseStyles","styled","dayjs","Joi","fetch","fetchPost","cancelToken","API_URL","getSchema","FormLayout","Field","FieldSet","FieldItem","AlertsContainer","Item","SelectField","CheckboxField","HorizontalRule","VerticalSpace","InputAddon","SelectDebounceField","AlertMessages","IconButton","YScroll","ResultMessage","Portal","Toolbar","Input","Space","Form","Button","InputNumber","DatePicker","PlusOutlined","MdAdjust","MdAssignmentReturned","CgCloseO","DATE_FORMAT","DATETIME_FORMAT","FORMULACAO_EXTRUSORAS_COD","FORMULACAO_EXTRUSORAS_VAL","FORMULACAO_TOLERANCIA","FORMULACAO_PONDERACAO_EXTR","FORMULACAO_MANGUEIRAS","schema","keys","excludeKeys","formu_materiasprimas_A","array","label","min","required","formu_materiasprimas_BC","matprima_cod_A","string","densidade_A","number","arranque_A","matprima_cod_BC","densidade_BC","arranque_BC","unknown","setId","id","key","values","append","value","suffix","prefix","onUndefined","HeaderA","backgroundColor","color","border","fontWeight","textAlign","noItemWrap","enabled","wide","style","borderLeft","alignSelf","display","flexDirection","justifyContent","fontSize","borderTop","HeaderBC","updateGlobals","adjust","extrusora","index","action","listA","listBC","rest","ponderacaoA","ponderacaoBC","globalA","globalBC","sumArranqueA","sumArranqueBC","entries","i","v","arranque","global","totalGlobal","SubFormMateriasPrimas","form","forInput","name","matPrimasLookup","sum","idx","fieldValues","getFieldsValue","setFieldsValue","fields","add","remove","move","addRow","removeRow","fieldName","field","moveRow","from","to","map","d","keyField","textField","input","option","toLowerCase","indexOf","addonBefore","getFieldValue","toFixed","marginTop","width","LoadMateriasPrimasLookup","record","url","filter","rows","data","loadCustomersLookup","pagination","limit","replaceAll","loadFormulacaoesLookup","produto_id","token","sort","getFormulacaoMateriasPrimas","formulacao_id","setFormTitle","parentRef","closeParent","parentReload","wrapForm","useForm","loading","setLoading","changedValues","setChangedValues","isTouched","setIsTouched","error","warning","info","success","formStatus","setFormStatus","guides","setGuides","formulacao","operation","setOperation","status","resultMessage","setResultMessage","setMatPrimasLookup","formulacoes","setFormulacoes","transformData","items","vglobal","matprima_cod","densidade","tolerancia_A","tolerancia","removeCtrl","tolerancia_BC","cliente_cod","cliente_nome","init","lookup","title","cancelFetch","cancel","onValuesChange","allA","allBC","allValues","find","onFinish","msgKeys","validate","abortEarly","details","includes","context","sumA","reduce","a","b","sumBC","Math","round","push","message","length","matprima_des","val","ITMREF_0","ITMDES1_0","csid","parameters","type","response","onSuccessOK","resetFields","onErrorOK","onClose","reload","padding","height","margin","overflow","pos","align","vAlign","wrap","colon","ellipsis","alert","tooltip","container","layout","top","right","center","bottom","left","text","minWidth","split","undefined","current"],"sourceRoot":""}